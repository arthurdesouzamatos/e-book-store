(function(e){var m=window.AmazonUIPageJS||window.P,g=m._namespace||m.attributeErrors,b=g?g("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,m,g){e.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,f,d,k){c.isDefined(b)&&(h.type=b);c.isDefined(a)&&(h.index=a);c.isDefined(q)&&(h.thumbnailIndex=q);c.isDefined(f)&&(h.variant=f);c.isDefined(d)&&(h.color=
d);h.shoppableScene=k||null}function l(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function f(a){a=a.data;d=b.copy(h);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function k(a){f(a);a=b.copy(a);a.data=b.copy(h);n.dispatch("updateView",a)}function e(){d=b.copy(h);l(h.color)}var a,n,h={},d={},m,r;return function(c,g){n=g;a=c;n.register("updateSelection",k);n.register("updateModel",f);n.register("resetModel",e);this.init=function(){l()};this.getCurrentItem=
function(){return b.copy(h)};this.getPreviousItem=function(){return b.copy(d)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){r=a};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(d.type,d.index,d.thumbnailIndex,d.variant,d.color,d.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";e.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,e,l){this.getImageHash=function(f){var k=l.getCurrentItem();f=b.getIndexForVariant(k.color,f||"MAIN",c);return b.getImageHash(k.color,f,c)};this.onImageUpdateForTwister=function(b){e.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";e.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,e,l,f){var k={};return function(g){var a=this;a.dispatch=function(a,c){var d=k[a];l.isDefined(d)&&b.each(d,function(a,b){b.call(m,c)})};a.register=function(a,b){l.isDefined(k[a])||(k[a]=[]);"function"===typeof b&&k[a].push(b)};a.model=new c(g,a);a.view=new e(g,a,a.model);a.api=new f(g,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";e.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,g,l){b=b.extend(!0,
{},g,l);var f=new c(b);e.register("ImageBlockAPI",function(){return f.api});return f})});
/* ******** */
(function(C){var v=window.AmazonUIPageJS||window.P,V=v._namespace||v.attributeErrors,l=V?V("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):v;l.guardFatal?l.guardFatal(C)(l,window):l.execute(function(){C(l,window)})})(function(C,v,V){C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(l,a,d,ha,k,M,D){function K(h,b,r,c,n){if(!d.isjQueryObjDefined(h.find(".a-button-selected"))){var f=
E.getCurrentItem();if(!c||"chromeless-video"!==f.type||!e.autoplayVideo){c=0;"image"===f.type&&(c=Math.max(d.getIndexForVariant(f.color,f.variant,e),0));var g=0;d.isDefined(e.heroImage[f.color])&&(g=e.heroImage[f.color].length);n=c-(b>=e.maxAlts?e.maxAlts-n-g:0);b=0<=n?b+n:c+g;b>=r&&(c=0,b=g);r=d.getImageHash(f.color,c,e);-1!==r&&(w.dispatch("updateModel",{data:{index:c,thumbnailIndex:b,variant:r.variant,type:"image",shoppableScene:r.shoppableScene}}),r=h.find(".item").get(b),d.selectGivenThumbnail(a(r),
h))}}}function H(a){if(!e.useChildVideos)return d.lazyLoadingRequired(E.getCurrentItem(),E,e)?void 0:e.videos;if(e.colorToVideo[a])return e.colorToVideo[a];var b=e.colorToAsin[a];if(b&&b.asin){var h={};h.params={asin:b.asin,productGroupID:e.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:e.useChromelessVideoPlayer,isUDP:e.isUDP};e.isDPXFeatureEnabled||(h.success=function(b){videosOnTwisterRefresh(b)},ha.load(VIDEO_AJAX_ENDPOINT,h));return e.colorToVideo&&e.colorToVideo[a]}}function u(c,
b,r){if((2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment)&&r)return c;var A=H(b),n=d.isDefined(A)&&0<A.length&&e.alwaysIncludeVideo?1:0;b=e.colorImages&&e.colorImages[b];var A=c,f=0;d.isDefined(b)&&(a.each(b,function(b,p){if(f>=e.maxAlts-n&&c<e.maxAlts+e.additionalNumberOfImageAlts){if(2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment){var r=a(".thumbItemUnrolled");r[c]?r[c].querySelector("img").src=p.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(c+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(c+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(c+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+p.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else d.createThumbnail({type:"image",
index:b,thumbnailIndex:c,variant:p.variant,shoppableScene:p.shoppableScene},p.thumb,h,"imageThumbnail");c++}f++}),M.isEnabled&&D.logAltImgRequestPlacedOnThumbnails(a,M,E),K(h,A,c,r,n));return c}function F(a,b){e.useIV&&d.isDefined(b.hiRes)&&a.css("cursor","pointer")}function B(h,b){if("image"===h.type){var c=a("#image-canvas-caption #canvasCaption"),A,n=e.staticStrings,f=e.colorImages,g=h.color,p=h.index;d.isShoppableScenesEnabled()&&h.shoppableScene?A=n.clickSceneTagsToShopProducts:b&&e.useIV?A=
n.clickToExpand:f[g]&&f[g][p].hiRes&&e.useHoverZoom?(A=e.useHoverZoomIpad?n.touchToZoom:e.useClickZoom?n.clickToZoom:n.rollOverToZoom,e.hoverZoomIndicator&&(A="\x3cimg src\x3d'"+e.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+A)):e.useIV&&(A=n.clickToExpand);c.html(A)}}function G(h,b){var c="a-dynamic-image";if(!e.acEnabled){var A;a.each(h.main,function(f,b){d.isDefined(A)||(A=parseFloat(b[1]/b[0])<=parseFloat(e.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=A}var n=d.getMaxDimensionsOfMainImage(h.main,
x,e),f=n[0],g=n[1],n=a("\x3cdiv\x3e\x3c/div\x3e"),f={"max-height":f,"max-width":g};n.addClass(c).css(f).attr({"data-old-hires":h.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",h.main);return n}function t(d,b,a){var h="desktop-dp-atf-ib-shoppablescenes-tags-"+d;"function"==typeof uet&&uet("bb",h,{wb:1});a.attr("data-a-image-name","shoppable-scene:"+d);a=y.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
a.addClass("celwidget").attr("cel_widget_id",h);a.children("span").css("display","inline-block");w.dispatch("initialize-shoppable-scene",{index:d,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:a.find(".mirai-scene-tag-placeholder"),$viewProductsButton:a.find(".mirai-scene-view-products-button")});"MutationObserver"in v&&(new MutationObserver(function(a,f){a.forEach(function(g){"childList"===g.type&&g.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===g.addedNodes.length&&"IMG"===g.addedNodes[0].tagName&&""!==g.addedNodes[0].src&&(g=g.addedNodes[0],"function"!==typeof g.onload&&(g.onload=function(){l.trigger("shoppable-scene-image-loaded",{index:d,shoppableScene:b.shoppableScene})}),f.disconnect())})})).observe(a.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",h,{wb:1});return a}function z(a,b,h){h=G(a,h);a=d.isShoppableScenesEnabled()&&a.shoppableScene?t(b,a,h):y.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(h);y.find(".list").append(a);l.loadImageManually(h);return a}function J(a){var b=x.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");e.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(e.imgTagWrapperClasses)}function L(h,
b,c,A){if((2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment)&&!A&&"unavailable"!==h.type){h=e.colorImages&&e.colorImages[c];b=a(".unrolledImg");c=H(c);var n=d.isDefined(c)&&0<c.length&&e.alwaysIncludeVideo?1:0;b.length>e.maxAlts&&b.each(function(f){f>=e.maxAlts&&a(this).remove()});d.isDefined(h)&&a.each(h,function(f,b){f<e.maxAlts-n+e.additionalNumberOfImageAlts&&f>=e.maxAlts-n&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(f+n+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(f+n)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(f+n)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===h.type||"unavailable"===h.type||"lazy-loaded"===h.type){c=d.getImageHash(h.color,h.index,e);if(-1===c)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},d.lazyLoadingRequired(h,E,e)||(w.dispatch("updateModel",b),d.showUnavailable(h.color)),-1;A=y.find(".item.itemNo"+h.thumbnailIndex);d.isjQueryObjDefined(A)||
(A=z(c,h.thumbnailIndex,b));J(A);w.dispatch("loadMagnifier");B(h);F(A,c);l.trigger("dp:image-block:update",c)}}function m(a){var b=E.getCurrentItem().color;e.colorImages[b]||(e.colorImages[b]=a);a={type:"updatedData",data:E.getCurrentItem()};w.dispatch("updateView",a);(b=e.colorToAsin[b])&&b.asin&&C.register(d.rankedImagesReadyEvent(b.asin))}function c(){var h=y.find(".item .imgTagWrapper"),b=d.getContainerHeight(x,e.holderRatio,e.holderMaxHeight);0<b&&(x.height(b),h.height(b));y.find("img.a-dynamic-image").each(function(){var b=
a(this);b.data("a-manual-replacement")&&l.loadDynamicImage(this);var h=b.data("a-dynamic-image"),h=d.getMaxDimensionsOfMainImage(h,x,e);b.css({"max-height":h[0]+"px","max-width":h[1]+"px"})})}function A(h){B(E.getCurrentItem(),"mouseenter"===h.type)}var P,e,E,w,h,y,x,R;return function(k,b,r,t){P=this;e=k;E=b;w=t;l.on("triggerImageAjax",m);e.colorImages[e.landingAsinColor]=e.colorImages[e.defaultColor];P.render=function(b,f,g,c,A,q,S){y=g;h=c;x=A;R=u(f,b,q);q||(f=E.getCurrentItem(),d.lazyLoadingRequired(f,
E,e)&&w.dispatch("updateModel",{data:{type:"lazy-loaded"}}));f=E.getCurrentItem();g=!q;d.lazyLoadingRequired(f,E,e)||(a("#imageBlock").css("opacity","1"),y.css("opacity","1"),d.spinner(y,!1),y.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),d.hideUnavailable(),g&&y.find(".list .item").remove());L(E.getCurrentItem(),S,b,q);return R};P.update=function(b){};e.overrideAltImageClickAction&&d.addTag("clickEnabledOnAltImages");w.register("imageHover",A);w.register("resize",
c)}});"use strict";C.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(l,a,d){var v,k,M,D;return function(a,H,u,F){v=this;k=a;M=F;v.render=function(a,u,t,z,F,L,m){D=z;v=this;t=k.maxAlts;z=u;F=k.colorImages[a]?k.colorImages[a].length:0;F+=d.getVideosCount(a,k);a=k.heroImage[a];L=0;a&&(L=a.length);a=F+L;a>t&&(t=a-t,a=D.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),t+="+",z={type:"ingress",index:0,
thumbnailIndex:u,variant:""},a.find("#altIngressText").append(t),l.declarative.create(a,"thumb-action",z),D.append(a),z=u++);return z};v.update=function(a){"ingress"===a.data.type&&"click"===a.type&&M.dispatch("imageClick",a)}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(l,a,d,v){function k(c,m,e,k){if(!d.isjQueryObjDefined(c.find(".a-button-selected"))){var w=z.getCurrentItem();if(!k||"chromeless-video"!==w.type||!t.autoplayVideo){k=
0;if("hero-image"===w.type){k=D(w.color,w.variant);if(-1===k)return;k=-1!==k?k:0}var h=m+k;h>=e&&(k=0,h=m);m=v.getHeroImageHash(t,w.color,k);-1!==m&&(J.dispatch("updateModel",{data:{index:k,thumbnailIndex:h,variant:m.variant,type:"hero-image"}}),m=c.find(".item").get(h),d.selectGivenThumbnail(a(m),c))}}}function M(c,m,e){if("hero-video"===z.getCurrentItem().type)return c;m=t.heroImage&&t.heroImage[m];var l=c;d.isDefined(m)&&(a.each(m,function(a,h){c<t.maxAlts&&(d.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:c,variant:h.variant},h.thumb,L,"imageThumbnail"),c++)}),k(L,l,c,e));return c}function D(c,m){var e=t.heroImage;if(1>e.length||!d.isDefined(e[c])||!d.isDefined(m))return-1;var k=-1;a.each(e[c],function(a,h){h.variant===m&&(k=a)});return k}function K(){if(m.length&&t.repositionHeroImage){var a=v.getHeroDimParams(t,z.getCurrentItem()),c;d.isDefined(a)&&(c=d.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",m.css({"background-position":c,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function H(a,c,e,k){if(m.length&&a&&c){if("function"===typeof e||k){var w=new Image;w.onload=k?function(){m.css("background-image",'url("'+a+'")')}:e;w.src=a}e=c[1];var w=c[0],h;k||m.css({"background-image":'url("'+a+'")'});t.repositionHeroImage&&(c=v.getHeroDimParams(t,z.getCurrentItem(),c),d.isDefined(c)&&(e=c.width,w=c.height,h=d.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+
"px "));m.css({"background-position":h,"background-size":e+"px "+w+"px ","max-width":e+"px ","min-height":w+"px ",filter:"","-ms-filter":""})}}function u(c,d,e,m){c=v.getHeroImageHash(t,c,d);if(-1===c)return-1;d=a.map(c.main,function(a,h){return h})[0];H(d,c.main[d],e,m)}function F(a,c,d){if("hero-image"!==a.type)return-1;var m=D(a.color,z.getCurrentItem().variant),m=-1!==m?m:0;if(-1===v.getHeroImageHash(t,a.color,m))return-1;var k=z.getCurrentItem();a.thumbnailIndex=k.thumbnailIndex;a.type=k.type;
a.variant=k.variant;a.index=m;B(a,c,d)}function B(a,d,e){var k=v.getHeroImageHash(t,a.color,a.index),w;w=a&&c&&l.equals(a,c)?!0:!1;c||(c=a);if(!w&&a||d)u(a.color,a.index,d,e),c=a;m.removeClass("hide-background");l.trigger("dp:image-block:update",k)}var G,t,z,J,L,m,c={};return function(c,k,e,l){G=this;t=c;z=k;J=l;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];G.render=function(c,h,d,e,k,l,b){L=e;m=a("#heroImage");c=M(h,c,l);F(z.getCurrentItem(),b,l);return c};G.update=function(a){var c=
a.data;"ingress"!==c.type&&m.addClass("hide-background");"swatchHover"===a.type?a.captured||(c.type=z.getCurrentItem().type,-1!==F(c)&&(a.captured=!0)):"hero-image"===c.type&&(B(c),"click"!==a.type&&t.usePeekHover||d.selectGivenThumbnail(a.$declarativeParent,L))};J.register("resize",K)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(l,a,d,C,k,M){function D(a){L?a.css("cursor","url('"+B.staticImages.zoomIn+
"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function K(a){var c=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(d.isDefined(c))for(var c=c[1].split("_"),k=0;k<c.length;k++){var l=c[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);d.isDefined(l)&&(a[l[1]]=parseInt(l[2],10))}return a}function H(m,c){function t(){var a;c.useClickZoom?(a=c.offsetInClickZoom,a=[Math.min(1,Math.max(0,I[0]-(f[0]+a))/(f[2]-2*a)),Math.min(1,Math.max(0,I[1]-(f[1]+a))/(f[3]-
2*a))]):a=r&&r.updatePosition();if(a&&b&&b.detailSize){var g=[b.detailSize[0]-b.rect.width,b.detailSize[1]-b.rect.height];l.capabilities.rtl?b.detailImage.get(0).style.right=-(a[0]*g[0])+"px":b.detailImage.get(0).style.left=-(a[0]*g[0])+"px";b.detailImage.get(0).style.top=-(a[1]*g[1])+"px"}}function u(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function e(b){var f=S?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";I=S?[f.pageX,f.pageY]:[b.pageX,b.pageY];if(l.capabilities.rtl){var g=
a(v).width();I=S?[g-f.pageX,f.pageY]:[g-b.pageX,b.pageY]}}function F(a){S&&a.preventDefault();e(a);c.useClickZoom?a=[f[0],f[1],f[0]+f[2],f[1]+f[3]]:(a=r?r.offset:m.offsetParent().offset(),a=B.acEnabled?[a.left,a.top,z.width()+a.left,z.height()+a.top]:[n[0]+a.left,n[1]+a.top,n[0]+n[2]+a.left,n[1]+n[3]+a.top]);I[0]<a[0]||I[1]<a[1]||I[0]>=a[2]||I[1]>=a[3]||B.acEnabled&&!u(m)?(c.fadeMagnifier?Y||(Y=!0,Z=setTimeout(function(){w(!0)},500)):c.useClickZoom||w(),H&&(H=!1,clearTimeout(J))):(H||(H=!0,J=setTimeout(function(){C.postCountMetric("dppc_hoverZoomOpened");
k.isEnabled&&M.logHoverZoomRequestServed(k)},1E3)),c.fadeMagnifier&&Y&&(Y=!1,clearTimeout(Z)),t())}function w(f){f&&x.suppressMagnifier(!0);if(p&&(b&&b.hide(),r&&(r.destroy(),r=null),p=!1,S?(m.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),y(),f))m.one("click.magnifier touchstart.magnifier",function(a){h(a,!0)})}function h(g,h){h&&x.suppressMagnifier(!1);if(!p&&
!W&&(0===Q&&(C.postCountMetric("dppc_hoverTime",new Date-(v.ue&&v.ue.t0||0)),Q=1),ba[q]||(C.postCountMetric("dppc_hoverMain"),ba[q]=1),n=[m.position().left,m.position().top,m.width(),m.height()],q&&(e(g),b?b.refit().show():b=new T,c.useClickZoom||(r=r||new N),f=b.getWindowSize(),t()),p=!0,S?(m.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",F).bind("touchend.magnifier",w),a(document).trigger("engaged.magnifier")):(B.acEnabled?z.unbind("mousemove.magnifier"):m.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",F)),h)){var d=a("#zoomWindow");if(0<d.length)d.one("click.magnifier touchend.magnifier",function(a){w(!0)})}}function y(){c.useHoverZoom&&(S?m.bind("touchstart.magnifier touchmove.magnifier",h):B.acEnabled?u(m)&&z.bind("mousemove.magnifier",h):m.bind("mousemove.magnifier",h))}var x=this,z=m.offsetParent(),G={detailImageUrl:m.attr("data-old-hires"),location:"over",locationElement:m,prelaod:"ready",zIndex:50,offsetInClickZoom:50};c=
a.extend(G,c);c.adjustment=[10,0,-10,0];var b=null,r=null,I=null,n=null,f=null,g={"null":1,"":1,undefined:1},p=!1,W=!1,q=c.detailImageUrl,S=c.useHoverZoomIpad||0,Q=0,ba={},N=function(){function f(a){var g=Math.round(Math.min(m.width(),b.rect.width/a));a=Math.round(Math.min(m.height(),b.rect.height/a));p.css({width:g,height:a});h=[g,a]}var g=this,h=[0,0],q=(b.detailSize&&b.detailSize[0]||5E8)/n[2],d=(b.detailSize&&b.detailSize[1]||5E8)/n[3],q=d>q?d:q;a("#magnifierLens").remove();var p=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
c.generalImageUrls.zoomLensBackground&&p.css({backgroundImage:"url("+c.generalImageUrls.zoomLensBackground+")"});B.showMagnifierOnHover?D(p):p.css("cursor","pointer");g.updatePosition=function(){var a=[n[2]-h[0],n[3]-h[1]],f=0>=a[0]?.5:Math.max(0,Math.min(1,(I[0]-h[0]/2-n[0]-g.offset.left)/a[0])),b=0>=a[1]?.5:Math.max(0,Math.min(1,(I[1]-h[1]/2-n[1]-g.offset.top)/a[1])),c=n[0]+Math.round(f*a[0]),a=n[1]+Math.round(b*a[1]);p.get(0).style.left=c+"px";p.get(0).style.top=a+"px";return[f,b]};g.destroy=function(){p.remove()};
g.offset=m.offsetParent().offset();f(q);g.updatePosition();p.appendTo(m.parent());b.detailImage[0].complete||b.detailImage.load(function(){var a=b.detailImage.width()/n[2];f(a);g.updatePosition()})};N.preload=function(){x.preload(c.generalImageUrls.lensBackgroundUrl)};var T=function(){function f(){var b={};if("over"===c.location){var b=c.useClickZoom,q={},p=a("#leftCol"),la=a("#centerCol"),k=a("#rightCol"),N=a("#hover-zoom-end"),S=a("#actionPanelContainer"),n=d.isjQueryObjDefined(p)?p.outerHeight():
la.outerHeight();q.top=d.isjQueryObjDefined(p)?p.offset().top:la.offset().top;q.bottom=n+q.top;q.right=d.isjQueryObjDefined(k)?k.offset().left:S.offset().left;q.left=b?0:p.offset().left+p.outerWidth();d.isjQueryObjDefined(N)&&N.offset().top>q.bottom&&(q.bottom=N.offset().top);b=q}else"right"===c.location&&(b=m.offset(),b={left:b.left+m.outerWidth(),top:b.top,right:b.left+m.outerWidth()+400,bottom:b.top+400});c.minHeightElement&&(b.bottom=Math.max(b.bottom,b.top+a(c.minHeightElement).outerHeight()));
b.bottom=Math.min(b.bottom,a(v).scrollTop()+a(v).height());b.left+=h[0];b.top+=h[1];b.right+=h[2];b.bottom+=h[3];b.width=b.right-b.left;b.height=b.bottom-b.top;c.enhancedHoverOverlay&&d.isDefined(v.pageXOffset)&&(q=a(v).width(),b.width=q-b.left+v.pageXOffset-18,b.height-=14);e.css({left:b.left,top:b.top,width:b.width,height:b.height});g.rect=b;return g}function b(a){var f=new Image;g.detailSize=[0,0];f.onload=function(){g.detailSize=[f.width,f.height];t()};f.src=a.attr("src");if(0<f.width&&0<f.height)g.detailSize=
[f.width,f.height];else if(c.detailImageSize)g.detailSize=c.detailImageSize;else{a=K(f.src);var q=n[2]/n[3];a.SS||a.AA?(a=a.SS||a.AA,g.detailSize=[a,a]):a.SX?g.detailSize=[a.SX,Math.round(a.SX/q)]:a.SY?g.detailSize=[Math.round(a.SY*q),a.SY]:a.SL&&(g.detailSize=1<=q?[a.SL,Math.round(a.SL/q)]:[Math.round(a.SL*q),a.SL])}}var g=this,h=c.adjustment;a("#zoomWindow").remove();var p={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:c.zIndex};c.enhancedHoverOverlay&&(p.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
p.border="1px solid #949494",p.borderColor="rgb(148,148,148)");var e=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(p);c.fadeMagnifier&&e.fadeIn(200);c.useClickZoom&&(L?e.css("cursor",'url("'+c.zoomOutIcon+'"), auto'):(e.css("cursor","-webkit-zoom-out"),e.css("cursor","-moz-zoom-out"),e.css("cursor","zoom-out")));g.updateImage=function(f){f=a("\x3cimg id\x3d'detailImg' src\x3d'"+f+"'/\x3e").css("position","absolute");g.detailImage&&g.detailImage.remove();e.append(f);a(document).trigger("updated.magnifier");
g.detailImage=f;b(g.detailImage)};g.refit=function(){f();b(g.detailImage);return g};c.fadeMagnifier?(g.show=function(){e.fadeIn(200);return g},g.hide=function(){e.fadeOut(200);return g}):(g.show=function(){e.show();return g},g.hide=function(){e.hide();return g});g.destroy=function(){e.remove();return g};g.getWindowSize=function(){return[g.rect.left,g.rect.top,g.rect.width,g.rect.height]};g.updateImage(q);f();e.appendTo(document.body)},Y=!1,Z,H=!1,J;x.preload=function(b){b=a.makeArray(b);for(var f=
b.length,q=0;q<f;q++)b[q]instanceof Array?x.preload(b[q]):"string"===typeof b[q]&&b[q]&&!g[b[q]]&&(g[b[q]]=new Image,g[b[q]].src=b[q])};x.changeImage=function(f,g){p&&w();q=g;m.attr("src",f);x.preload(f);n=[m.position().left,m.position().top,m.width(),m.height()];g&&("immediately"===c.preload?x.preload(g,!0):a(v).ready(function(){x.preload(g)}),b?b.updateImage(g):m.attr("data-old-hires",g))};x.destroy=function(){B.acEnabled?z.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
m.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");r&&r.destroy();r=null;b&&b.destroy();b=null};x.detailImage=function(){return b.detailImage};x.suppressMagnifier=function(a){W=a};x.isEngaged=function(){return p};x.engageMagnifier=h;x.disengageMagnifier=w;m[0].complete?y():m.one("load",y);x.preload(m.attr("src"));v.performance&&performance.now&&v.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(c.preload){var ea=
c.detailImageUrl,G=function(){x.preload(ea,!0);c.useClickZoom||N.preload()},U=c.preload;U.constructor!==Array&&(U=[U]);for(var ca=0;ca<U.length;ca++)if("immediately"===U[ca])G();else if(a(v)[U[ca]])a(v)[U[ca]](G);else a(v).bind(U[ca],G)}return x}function u(){if(B.useHoverZoom){var m={adjustment:[0,0,1,1],generalImageUrls:B.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:B.useHoverZoomIpad,useHoverZoom:B.useHoverZoom,useClickZoom:B.useClickZoom,
fadeMagnifier:B.fadeMagnifier,zoomOutIcon:B.staticImages.zoomOutCur,enhancedHoverOverlay:B.enhancedHoverOverlay||B.atfEnhancedHoverOverlay};z&&(z.destroy(),z=V);var c=J.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");d.isjQueryObjDefined(c)?B.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(a){z=new H(c,m);z.engageMagnifier(a,!0)}),L?c.css("cursor",'url("'+B.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),
c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))):z=new H(c,m):k.isEnabled&&M.logHoverZoomApplicability(a,k)}}var F,B,G,t,z,J,L=navigator.userAgent.match(/msie|trident/i);return function(a,c,d,l){F=this;B=a;G=c;k.refToModel=G;t=l;F.render=function(a,c,d,h,k,m){J=d;z&&(z.destroy(),z=V)};F.update=function(a){};t.register("loadMagnifier",u);t.register("resize",u)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(l,a,d,C){function k(a,
k,l){a=(a=l?l:d.getColorFromState(k.getState().hovered_variations,K))&&""!==a?a:K.defaultColor;u.dispatch("updateView",{type:"swatchHover",data:{color:a}});C.postCountMetric("swatchHover")}function M(a,k,l,t){a=(a=t?t:d.getColorFromState(k.getState().selected_variations,K))&&""!==a?a:K.defaultColor;a===H.getCurrentItem().color?"function"===typeof l&&l():(u.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===
typeof v.markFeatureRender&&v.markFeatureRender("imageblock",a);l()}}),C.postCountMetric("swatchClick"))}var D,K,H,u;return function(a,d,v,t){D=this;K=a;H=d;u=t;l.on("image-block-twister-swatch-hover",k);l.on("image-block-twister-swatch-click",M);D.render=function(a,d,k,m,c){};D.update=function(a){}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(l,a,d,ha,k,M,D){function K(b,
f,g,c){if(!d.isjQueryObjDefined(b.find(".a-button-selected"))){var p=y.getCurrentItem();if(!c||"chromeless-video"!==p.type||!h.autoplayVideo)if(c=0,"image"===p.type&&(c=Math.max(B(p.color,p.variant),0)),!(p.thumbnailIndex>=h.maxAlts&&0!=c)){var e=f+c;e>=g&&(c=0,e=f);f=d.getImageHash(p.color,c,h);-1!==f&&(x.dispatch("updateModel",{data:{index:c,thumbnailIndex:e,variant:f.variant,type:"image",shoppableScene:f.shoppableScene}}),f=b.find(".item").get(e),d.selectGivenThumbnail(a(f),b))}}}function H(f,
g,c){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&c)return f;var p=h.colorImages&&h.colorImages[g];g=f;2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(b){(!a(this)[0].classList.contains("thumbTypeimage")||b>=p.length||b>=h.maxAlts)&&a(this).remove()});d.isDefined(p)&&(a.each(p,function(g,c){if(f<h.maxAlts)if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){f++;var e=a(".thumbItemUnrolled");
e[g]?e[g].querySelector("img").src=c.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+f+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+f+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+f+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else{var e={type:"image",index:g,thumbnailIndex:f,variant:c.variant,shoppableScene:c.shoppableScene},k=d.createThumbnail(e,c.thumb,b,"imageThumbnail");h.collapsibleThumbnails&&d.updateImageThumbnailOverlay(k,e,p);f++}}),M.isEnabled&&D.logAltImgRequestPlacedOnThumbnails(a,M,y),K(b,g,f,c));return f}function u(a,b){h.useIV&&d.isDefined(b.hiRes)&&a.css("cursor","pointer")}function F(b,
f){if("image"===b.type){var g=a("#image-canvas-caption #canvasCaption"),c,p=h.staticStrings,e=h.colorImages,k=b.color,m=b.index;d.isShoppableScenesEnabled()&&b.shoppableScene?c=p.clickSceneTagsToShopProducts:f&&h.useIV?c=p.clickToExpand:e[k]&&e[k][m].hiRes&&h.useHoverZoom?(c=h.useHoverZoomIpad?p.touchToZoom:h.useClickZoom?p.clickToZoom:p.rollOverToZoom,h.hoverZoomIndicator&&(c="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+c)):h.useIV&&(c=p.clickToExpand);g.html(c)}}function B(a,
b){return d.getIndexForVariant(a,b,h)}function G(a,b,f){var g=b.thumbnailIndex,c=h.colorToAsin[b.color]&&h.colorToAsin[b.color].asin;b="altImageHover"===f&&n&&n.altImageIdx===g&&n.asin===c&&"swatchClick"===n.event?!0:"swatchHover"===f?n&&n.asin===c&&n.event===f:n&&n.altImageIdx===g&&n.asin===c&&n.event===f;if(!b){var d="#",e=a.find(".imgTagWrapper img").get(0);e&&(d=e.src);a=new Image;a.onload=function(){if(e){e.src=d;var a=e.width,b=e.height,h=e.naturalWidth,q=e.naturalHeight;try{var k=(Math.abs(a/
h*q-b)/b).toFixed(2);.01<k&&(v.ue&&((("landing"!==f||p||W)&&"swatchClick"!==f||v.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===f||"swatchClick"===f)?v.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==f||W?"altImageHover"!==f||p||(v.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),p=!0):(v.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),W=!0)),v.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},
v.ueLogError("swatchHover"===f?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+c+" Event:"+f+" Diff:"+k.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+c+" at altImageIdx "+g+" Event:"+f+" Diff:"+k.toString()+"]"},a)))}catch(m){v.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},v.ueLogError(m,a))}}};"#"!==d&&(a.src=d);n.altImageIdx=g;n.asin=c;n.event=f}}function t(b,f){var g="a-dynamic-image";if(!h.acEnabled){var c;
a.each(b.main,function(a,b){d.isDefined(c)||(c=parseFloat(b[1]/b[0])<=parseFloat(h.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});g+=c}var p=d.getMaxDimensionsOfMainImage(b.main,I,h),e=p[0],k=p[1],p=a("\x3cdiv\x3e\x3c/div\x3e"),e={"max-height":e,"max-width":k};p.addClass(g).css(e).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:f}).data("a-dynamic-image",b.main);return p}function z(a,b,f){var g="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&
uet("bb",g,{wb:1});f.attr("data-a-image-name","shoppable-scene:"+a);f=r.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");f.addClass("celwidget").attr("cel_widget_id",g);f.children("span").css("display","inline-block");x.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:f.find(".mirai-scene-tag-placeholder"),$viewProductsButton:f.find(".mirai-scene-view-products-button")});
"MutationObserver"in v&&(new MutationObserver(function(f,g){f.forEach(function(f){"childList"===f.type&&f.target.classList.contains("mirai-scene-image-block-tag-container")&&1===f.addedNodes.length&&"IMG"===f.addedNodes[0].tagName&&""!==f.addedNodes[0].src&&(f=f.addedNodes[0],"function"!==typeof f.onload&&(f.onload=function(){l.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),g.disconnect())})})).observe(f.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",g,{wb:1});return f}function J(a,b,f){f=t(a,f);a=d.isShoppableScenesEnabled()&&a.shoppableScene?z(b,a,f):r.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(f);r.find(".list").append(a);
l.loadImageManually(f);l.trigger("dp:image-block:imageBlockImageLoad",b);return a}function L(a){var b=I.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");h.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function m(a){if(a.isUserGenerated){var b=y.getPreviousItem(),f=a.variant;d.isDefined(f)&&b.thumbnailIndex!==a.thumbnailIndex&&(M.isEnabled&&D.logAltImgRequestServed(M),k.postCountMetric("ImageThumbnailSelectedVariant:"+f),0===
f.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+f),k.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function c(b,f,g,c){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&!c&&"unavailable"!==b.type){if(b=h.colorImages&&h.colorImages[g],a(".unrolledImg").each(function(b){a(this).remove()}),d.isDefined(b)&&(a.each(b,function(b,f){if(b<h.maxAlts){var g=a(".unrolledImg");g[b]?a(".unrolledImg #unrolledImgNo"+b+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+
f.large+'" data-a-hires\x3d"'+f.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):b>=g.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
b+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+f.large+'" data-a-hires\x3d"'+f.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),l.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),g=d.isDefined(f)))k.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
f()}else if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===b.type){(g=d.isDefined(f))&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");c=d.getImageHash(b.color,b.index,h);if(-1===c)return f={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},d.lazyLoadingRequired(b,y,h)||(x.dispatch("updateModel",f),d.showUnavailable(b.color)),-1;var e=r.find(".item.itemNo"+b.thumbnailIndex);d.isjQueryObjDefined(e)||(e=J(c,b.thumbnailIndex,f),g?(W=p=!1,G(e,b,"swatchClick")):G(e,
b,"altImageHover"));L(e);x.dispatch("loadMagnifier");F(b);u(e,c);m(b);l.trigger("dp:image-block:update",c)}}function A(a){var b=Math.max(B(a.color,y.getCurrentItem().variant),0),b=d.getImageHash(a.color,b,h);if(-1===b)return d.lazyLoadingRequired(a,y,h)||d.showUnavailable(a.color),-1;var f=r.find(".swatchHoverExp"),g=t(b);f.find(".imgTagWrapper").html(g);l.loadImageManually(g);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");L(f);G(f,a,"swatchHover");l.trigger("dp:image-block:update",b)}
function P(b,f){d.lazyLoadingRequired(b,y,h)||(a("#imageBlock").css("opacity","1"),r.css("opacity","1"),d.spinner(r,!1),r.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),d.hideUnavailable(),f&&r.find(".list .item").remove())}function e(){var b=r.find(".item .imgTagWrapper"),f=d.getContainerHeight(I,h.holderRatio,h.holderMaxHeight);0<f&&(I.height(f),b.height(f));r.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&l.loadDynamicImage(this);
var f=b.data("a-dynamic-image"),f=d.getMaxDimensionsOfMainImage(f,I,h);b.css({"max-height":f[0]+"px","max-width":f[1]+"px"})})}function E(a){F(y.getCurrentItem(),"mouseenter"===a.type)}var w,h,y,x,R,O,b,r,I,n={},f,g=null,p=!1,W=!1;l.on("triggerImageAjax",function(a){var b=y.getCurrentItem().color;h.colorImages[b]||(h.colorImages[b]=a);a={type:"updatedData",data:y.getCurrentItem()};x.dispatch("updateView",a);(b=h.colorToAsin[b])&&b.asin&&C.register(d.rankedImagesReadyEvent(b.asin))});return function(p,
m,n,l){w=this;h=p;y=m;x=l;h.colorImages[h.landingAsinColor]=h.colorImages[h.defaultColor];w.render=function(p,e,k,q,m,n,l,t){r=2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment?k:a(".unrolledScrollBox");b=q;I=m;f=H(e,p,n);n?0===e&&G(r.find(".item.itemNo0"),y.getCurrentItem(),"landing"):(e=y.getCurrentItem(),d.lazyLoadingRequired(e,y,h)&&x.dispatch("updateModel",{data:{type:"lazy-loaded"}}));P(y.getCurrentItem(),!n);2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment?
"swatchClick"===t&&h&&h.colorImages?(g=h.colorImages[p],c(y.getCurrentItem(),l,p,n)):"updatedData"===t&&h&&h.colorImages&&h.colorImages[p]!==g&&(g=h.colorImages[p],c(y.getCurrentItem(),l,p,n)):c(y.getCurrentItem(),l,p,n);return f};d.isImageBlockGridViewHoverDelayEnabled()?w.update=function(a){var g=a.data;y.setCurrentEvent(a);"ingress"!==g.type&&"swatchHover"!==a.type&&(y.setToPreviousItem(),"mouseenter"===a.type?(O&&clearTimeout(O),O=setTimeout(function(){y.setToCurrentItem(g);P(a.data,!1)},d.getHoveringDelayTimer())):
"mouseleave"===a.type?O&&clearTimeout(O):"click"===a.type&&(y.setToCurrentItem(g),P(a.data,!1)));"swatchHover"===a.type?("ingress"!==g.type&&P(a.data,!1),g.color===y.getCurrentItem().color?c(y.getCurrentItem(),null,g.color,!0):a.captured||-1===A(g)||(a.captured=!0)):"image"===g.type&&(g.interaction=a.type,g.isUserGenerated=!0,"mouseenter"===a.type?(k.postCountMetric("dpcc_imageThumbHovered_"+(g.thumbnailIndex+1)+"_"+f),R&&clearTimeout(R),R=setTimeout(function(){c(g,null,g.color,!0);h.usePeekHover||
d.selectGivenThumbnail(a.$declarativeParent,b)},d.getHoveringDelayTimer())):"mouseleave"===a.type?R&&clearTimeout(R):"click"===a.type&&(c(g,null,g.color,!0),d.selectGivenThumbnail(a.$declarativeParent,b),k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(g.thumbnailIndex+1)+"_"+f)))}:w.update=function(a){var g=a.data;y.setCurrentEvent(a);"ingress"!==g.type&&P(a.data,!1);"swatchHover"===a.type?g.color===y.getCurrentItem().color?c(y.getCurrentItem(),null,
g.color,!0):a.captured||-1===A(g)||(a.captured=!0):"image"===g.type&&(g.interaction=a.type,g.isUserGenerated=!0,"mouseenter"===a.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(g.thumbnailIndex+1)+"_"+f),c(g,null,g.color,!0),h.usePeekHover&&"click"!==a.type||(d.selectGivenThumbnail(a.$declarativeParent,b),"click"===a.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(g.thumbnailIndex+1)+"_"+f))))};h.overrideAltImageClickAction&&d.addTag("clickEnabledOnAltImages");
x.register("imageHover",E);x.register("resize",e)}});C.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(l,a,d,v){function k(d,k){var c=a("\x3cimg src\x3d'"+(k?t.staticImages.shoppableSceneDotHighlighted:t.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");c.css({display:k?"none":"inline-block"});c.addClass("mirai-scene-tag").addClass(k?"active-tag":"inactive-tag");return c}function M(d){var m=a("\x3cspan\x3e");l.each(d.tags,function(c){var d=a("\x3cdiv\x3e").css({position:"absolute",
left:100*c.left+"%",top:100*c.top+"%",height:"auto",width:"auto"});d.append(k(c,!1));d.append(k(c,!0));d.bind("mouseenter",function(){D(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});l.declarative.create(d,"scenes-show-details-tags-ib",{tagId:c.link});m.append(d)});return m.children()}function D(a){a.addClass("mirai-scene-dot-pulsate");l.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function K(a,d){a.css({display:"none"});d.css({display:"inline-block"})}function H(a,
d,c){a.eq(c).css({display:"inline-block"});d.eq(c).css({display:"none"})}function u(a){C.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){l.trigger("mirai:scene-details-change",{physicalId:a})})}function F(){var d=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),k=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",t.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),c=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
c.html(t.staticStrings.shoppableSceneViewProductsButton);return d.append(k).append(c)[0].outerHTML}function B(a){function d(){a.$tagPlaceholder.replaceWith(k);var c=k.find(".mirai-scene-tag.active-tag"),e=k.find(".mirai-scene-tag.inactive-tag");H(c,e,0);D(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));J=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});w=!0;v.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(a.shoppableScene){var c=a.$viewProductsButton.find(".a-button-text");if(0===c.children().length){c.append(F());l.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var k=M(a.shoppableScene),u=k.find(".mirai-scene-tag.active-tag"),e=k.find(".mirai-scene-tag.inactive-tag"),z=a.shoppableScene.physicalId,w=!1;l.on("mirai:index:change",function(a){a.scenePhysicalId===z&&(a=a.selectedIndices[0],K(u,e),H(u,e,a),D(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),
J=!0)});l.on("mirai:scene-details-change",function(a){a.physicalId!==z||J||(K(u,e),H(u,e,0),D(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),J=!0)});l.on("mirai:no-products-active",function(a){a.scenePhysicalId===z&&K(u,e)});l.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===z&&(K(u,e),H(u,e,0))});l.on("a:image:load:shoppable-scene:"+a.index,function(){w||(d(),v.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});l.on("shoppable-scene-image-loaded",
function(c){c.index!=a.index||w||(d(),v.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});C.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){l.trigger("mirai:scene-side-sheet-init",{icons:t.staticImages,strings:t.staticStrings});l.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var G,t,z,J=!1;return function(a,k,c,l){G=this;t=a;z=l;d.isShoppableScenesEnabled()?(z.register("initialize-shoppable-scene",
B),G.render=function(a,c,d,k,h,l,m){},G.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?u(a.data.shoppableScene.physicalId):J=!1)}):(a=function(){},G.render=a,G.update=a)}});C.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";C.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(l,a,d,C,k,M,D,K,H){function u(a){return null!==
a&&"undefined"!==typeof a}function F(b){var g=0;a.each(b,function(a,b){var f=parseInt(b[1],10);f>g&&(g=f)});return g}function B(b){var g=0;a.each(b,function(a,b){var f=parseInt(b[0],10);f>g&&(g=f)});return g}function G(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=F(a);0<a&&(b=Math.min(b,a));return b}function t(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=B(a);0<a&&(b=Math.min(b,a));return b}function z(b){var g;a.each(b,function(a,b){u(g)||(g=b[1]/b[0])});return g||1}function J(b,
g,c,e,h,k,n,l,r,t,u,v,w,z,A){var B=a.extend({},c.foresterMetadataParams);null!==e&&(B.method+="."+e);var D=[];g.disabledViewIds&&(D=g.disabledViewIds);A=A&&A.videoBackgroundChromefulMainView?A.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===z&&(A="transparent");return d.embed({parentElement:b[0],streamingUrls:g.url,contentId:g.mediaObjectId,contentMinAge:Number(g.minimumAge||"")||0,contentTitle:g.title,swfUrl:c.swfUrl,foresterMetadataParams:B,backgroundColor:A,flashParams:{wmode:"transparent"},
slateImages:{preloadSlate:g.slateUrl,postMediaSlate:g.slateUrl},videoAds:c.videoAds,bindings:{play:function(){if("ImmersiveView"===e)y||(y=!0,C.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(x||(x=!0,C.postCountMetric("dppc_chromefulVideoPlayedPV")),!t){var a=C.buildNexusMetric("ib.thumbnailClick",r,g.mediaObjectId,g.groupType,u,v,w);C.emitNexusMetric(a)}}},cuePoints:[{values:g.durationSeconds-1,type:"position",callback:function(a,b,f){h&&(L(0,k,l),m(n))}}],disabledViewIds:D})}function L(a,
b,d){b.fadeTo(500,0,function(){c(a,d);b.fadeTo(500,1)})}function m(a){a&&a.toggle()}function c(b,g){var c=g.find("img");u(c[b])&&a(c[b]).click()}function A(a,g){b[a]=g?g:b[a];return b[a]}function P(b,g,c){c=c||O;c=c.colorImages;if(1>c.length||!u(c[b])||!u(g))return-1;var d=-1;a.each(c[b],function(a,b){b.variant===g&&(d=a)});return d}function e(b,g,c){c=c||O;c=c.colorImages;return!(u(c)&&u(c[b])&&u(c[b][g])&&u(c[b][g].main))||1>a.map(c[b][g].main,function(a,b){return b}).length?-1:c[b][g]}function E(a,
b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function w(b,g){var c;if(c=b.useIV)c=b.colorImages&&b.colorImages[g]&&0<b.colorImages[g].length?!0:!1;D.isEnabled&&(D.IVApplicaple=c,K.logImmersiveViewApplicability(a,D));return c}function h(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var y,x,R,O=a.extend(!0,{},k,M),b={},r=0,I=0,n=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;
return{isDefined:u,isDefinedAndEmpty:function(a){return u(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return u(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return u(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:z,getMaxHeightOfMainImage:t,getMaxWidthOfMainImage:G,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];
var d=t(a,b,c);b=G(a,b,c);a=z(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(u(d)){a=d.offsetWidth/b;a=Math.min(a,c);var e;b=O.mainImageHeightPartitions;c=O.mainImageMaxSizes;if(u(c)&&u(b)){for(var h=0,k=v.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)k>b[d]&&(h=d+1);c.length>=h&&(e=c[h])}u(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(b,c){if(b){c=c||O;var d="";a.each(c.visualDimensions,
function(a,c){b[c]&&(d+=" "+b[c])});return d&&d.substring(1)}},createThumbnail:function(a,b,c,d){var e=c.find(".template").clone().removeClass("template").addClass("item"),k=document.createElement("img");k.src=b;e.find(".placeHolder").replaceWith(k);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&e.addClass("heroImageThumbnail");u(d)&&e.addClass(d);h()&&e&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",k.parentNode.insertBefore(d,k));l.declarative.create(e,
"thumb-action",a);e.attr&&(e.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover")),e.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(e);return e},updateImageThumbnailOverlay:function(a,
b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,d,e,h,k,n){J(a,b,c,d,e,h,k,n,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:J,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?
(R={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(R)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,imageUrl:b.slateUrl}))},
showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:L,toggleVideoCaption:m,selectThumbnail:c,spinner:function(b,c){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(d),d.css({position:"absolute",left:"50%",
top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:A,getIndexForVariant:P,getImageHash:e,lazyLoadingRequired:function(a,b,c){b=Math.max(P(a.color,b.getCurrentItem().variant,c),0);b=-1!==e(a.color,
b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==A(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:E,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();E(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!u(c.colorToVideo))return-1;
a=c.colorToVideo[a]}else a=c.videos;return u(a)&&u(a[b])&&u(a[b].url)?a[b]:-1},isImmersiveViewEnabled:w,playVideoInImmersiveView:function(a,b){return w(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return u(R)?R.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",
placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){v.ue&&v.ue.tag&&v.ue.tag(a)},isShoppableScenesEnabled:function(){return H.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:h,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return r},updateThumbnailHoverDelay:function(a){if(u(a)){r=
0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=I;a=a.closest("ul").attr("class");a===V?c=!1:(a=n.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(r=100);I=b}}},logError:function(a,b,c,d){v.ueLogError&&v.ueLogError(d,{logLevel:a,attribution:b,message:c})}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",
function(l,a,d,ha,k,M){function D(c,f,g,e){!b.autoplayVideo||ja||b.useChromelessVideoPlayer?!d.isjQueryObjDefined(c.find(".a-button-selected"))&&(g=r.getCurrentItem(),!e||b.prioritizeVideos||"chromeless-video"===g.type&&b.autoplayVideo)&&(e=d.getVideoHash(g.color,0,b),-1===e||g.thumbnailIndex>=b.maxAlts-1||(f+=0,I.dispatch("updateModel",{data:{index:0,thumbnailIndex:f,variant:e.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),f=c.find(".item").get(f),d.selectGivenThumbnail(a(f),
c))):(d.selectGivenThumbnail(c.find("img:last"),c),d.fadeToThumbnail(c.find("img").length-1,p,c))}function K(a){var c=r.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[c]){var f=function(){if(a){b.colorToVideo[c]=a;var d={type:"updatedData",data:r.getCurrentItem()};I.dispatch("updateView",d)}};b.lazyLoadExperienceDisabled?f():C.when(d.rankedImagesReadyEvent(b.colorToAsin[c].asin)).execute(function(){f()})}}function H(a){a&&(b.notShowVideoCount=a,a={type:"updatedData",data:r.getCurrentItem()},
I.dispatch("updateView",a))}function u(a){if(!b.useChildVideos)return d.lazyLoadingRequired(r.getCurrentItem(),r,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];var c=b.colorToAsin[a];if(c&&c.asin){var f={};f.params={asin:c.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(f.success=function(a){K(a)},ha.load("/gp/product/features/apparel-main-image/videos.html",f));return b.colorToVideo&&
b.colorToVideo[a]}}function F(a){q&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&(q.hide(),f.parent().css("z-index",-1),g.hide())}function B(a,c,g){c=p.width()/p.height();var e=parseInt(a.videoWidth,10),h=parseInt(a.videoHeight,10);d.updateAspectRatio(c,e,h,f);if(q&&"unrolled-video-add"!==g)q.show(),d.loadMediaIntoAiry(q,a,S,b.tabletWeb);else if(b.tabletWeb)q=N;else{if("unrolled-video-add"===g){q=N;return}if(null===N||N===V)X=setInterval(function(){q=N;q!==V&&null!==
q&&(q.show(),d.loadMediaIntoAiry(q,a,S,b.tabletWeb),G(),m(q),clearInterval(X),X=null)},500);else if(q=N,q!==V&&null!==q){q.show();d.loadMediaIntoAiry(q,a,S,b.tabletWeb);G();m(q);return}}G();m(q)}function G(){if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(d.useTabbedImmersiveView(b)){if(1<d.getVideosCount(r.getCurrentItem().color,b)){if(d.isDefined(W)){g.show();return}W=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);
g.find("#videoCaption").append(W);l.declarative.create(W,"videoIngressClick",Q)}d.playVideoInImmersiveView(b,r.getCurrentItem().color)&&(l.declarative.create(f,"videoIngressClick",Q),f.attr&&f.attr("data-ux-click",""),f.children().css("z-index","-1"),f.css("display","inline-block"))}else g.find("#videoCaption").text(b.staticStrings.playVideo),g.show()}function t(a,c){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===c){var f=d.getVideoHash(a.color,a.index,b);if(-1===
f)return-1;"chromeful-video"===a.type&&B(f,a.thumbnailIndex+1,c)}}function z(c,f,g){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&g)return c;var e=u(f);f=c;var h=a(".unrolledImg"),m=d.isDefined(e)&&0<e.length&&b.alwaysIncludeVideo?1:0;d.isDefined(e)&&0<e.length&&!b.alwaysIncludeVideo&&c===b.maxAlts&&k.postCountMetric("IBVideoDrop");h.length>b.maxAlts&&h.each(function(c){c>=b.maxAlts&&a(this).remove()});m&&c===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?
(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):n.find(".item:last").remove(),c--);d.isDefined(e)&&(a.each(e,function(f,g){if(c<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+f+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+c+'" class\x3d"videoIndex'+f+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));
b.dp60InLastPositionUnrolledImageBlock||2!==b.dp60VideoPosition||J(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",l={type:h,index:f,thumbnailIndex:c,variant:g.variant};Q={type:"video-ingress",index:f,thumbnailIndex:c,variant:g.variant};d.useTabbedImmersiveView(b)&&("chromeful-video"===h&&(da+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(da+=
" a-align-top"));d.isImageBlockGridViewDisplayEnabled()&&(da+=" videoImageBlockGridView");d.createThumbnail(l,g.thumb,n,da);2===b.dp60VideoPosition&&J(n,b.dp60VideoPosition);if(d.useTabbedImmersiveView(b)){L(n.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL);var l=1<e.length?"multiple-videos":"one-video",m=!0===b.notShowVideoCount?b.staticStrings.multipleVideos:1<e.length?e.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo;m&&n.find(".videoBlockIngress").append(n.find("#videoCount_template").clone().text(m).attr("id",
"videoCount")).addClass(l)}l=k.buildNexusMetric("ib.thumbnailRender",c+1,g.mediaObjectId,g.groupType,Y,T,Z,aa);k.emitNexusMetric(l);ca||(ca=!0,k.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(d.useTabbedImmersiveView(b))return!1}),D(n,f,c,g),w(y),b.imageBlockRenderingStartTime&&k.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",l.now()-b.imageBlockRenderingStartTime));return c}function J(c,d){if(0!==d)if(2===b.unrolledImageBlockTreatment||
3===b.unrolledImageBlockTreatment){var f=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",g=c.children(".thumbTypeimage"),f=c.children(".thumbType"+f);g&&f&&g[d-1]&&a(g[d-1]).before(f[0]);f=a(".unrolledScrollBox .list-unrolled");g=f.children(".unrolledImg.imgMedia");f=f.children(".unrolledImg.videoMedia");g&&f&&g[d-1]&&a(g[d-1]).before(f[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&
(c=d);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else g=c.children(".imageThumbnail"),f=c.children(".videoBlockIngress"),g&&f&&g[d-1]&&a(g[d-1]).before(f[0])}function L(a,b){var c=a.attr("src");if(c&&b){a.attr("src",b);var d=new Image;d.onload=function(b){a.attr("src",c)};d.src=c}}function m(a){b.autoplayVideo&&a&&!ja&&(d.toggleVideoCaption(g),a.setVolume(0),a.show(),a.play(),ja=!0)}function c(c){q&&q.pause();c.data=
Q;c.clickTimeStamp=c.$event.timeStamp;var d="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";I.dispatch("imageClick",c);k.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);c=k.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].groupType,Y,T,Z,aa);k.emitNexusMetric(c);k.postCountMetric(d);a("#main-video-container .vjs-control-bar").css("display","none");a("#main-video-container .vjs-poster").css("display","inline-block")}
function A(b){null!==q&&q!==V&&(q.frame&&q.frame.remove(),q=null,N.frame&&N.frame.remove(),N=null);N=b.player;a("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");N.hide=function(){N.pause();l.$("#main-video-container").find(".vse-player-container").hide()};N.show=function(){l.$("#main-video-container").find(".vse-player-container").show()};N.getMediaSourceInfo=function(){return d.getMediaSourceInfo()}}function P(e,h,k,n,m,x){F(x);f=null!==x?a("#unrolledImgNo"+
x.thumbnailIndex):n.find("#main-video-container");g=null!==x?"":f.parent().find("#video-canvas-caption");p=null!==x?a(".unrolledScrollBox"):a("#main-image-container");null===x&&d.isImageBlockGridViewDisplayEnabled()&&(f.addClass("videoCenter"),n.find("#video-outer-container").addClass("videoWrapperCenter"));Y=v.location.href;e=r.getCurrentItem().color;!0===m?T=b.mediaAsin:(T=b.colorToAsin[e]&&b.colorToAsin[e].asin,T=d.isDefined(T)?T:b.mediaAsin);b.useChromelessVideoPlayer||f.addClass("chromeful-container");
null!==x?t(x,"unrolled-video-add"):t(r.getCurrentItem(),"");d.useTabbedImmersiveView(b)&&l.declarative("videoIngressClick",["click"],c);if(-1!==q&&null!==x){e=r.getCurrentItem().color;var q=d.getVideoHash(e,x.index,b);M.get(l,"#unrolledImgNo"+x.thumbnailIndex,{requester:"MediaBlockSoftlines",marketplaceID:q.marketPlaceID,clientPrefix:"mbSoftlines"+x.thumbnailIndex,locale:q.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:q.url,
imageURL:q.slateUrl}},function(){l.$("#unrolledImgNo"+x.thumbnailIndex).find(".vse-player-container").show()},function(){l.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function e(a,b){function c(a){a=Math.floor((n.width()-1)/e);a=d?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}var d=0!=n.find(".item.videoThumbnail").length,f=b.eq(0).width(),g=b.eq(1).position().left-b.eq(0).position().left-
f,e=f+g;c();a.register("resize",c)}function E(a){var b=n.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==V&&c.decode().then(function(){e(a,b)})}}function w(a){try{if(!a)return!1;ka=a;ga=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ia&&ia.disconnect();0<ga.length&&(ia=new IntersectionObserver(h,a));ga.forEach(function(a){ia.observe(a)})}catch(b){k.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}
function h(a){ka(a,ma,oa,ga,na)}function y(b,c,d,f,g){try{a.each(b,function(b,g){var e=a(f).index(g.target);g.isIntersecting?(c=c.slice(),c.push(e)):c=c.filter(function(a){return a!==e});d=c.sort(function(a,b){return a-b})});var e=x(d,g);if(0!==e.length&&0!==d.length){var h=r.getCurrentItem().color,n=u(h);R(n,e)}}catch(l){k.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function x(a,b){var c=a.slice().filter(function(a){return 0>b.indexOf(a)});return b=c}function R(b,c){try{if(!b||
!c||0===b.length||0===c.length)return!1;a.each(c,function(a,c){var d=1===ga.length?b[0]:b[c];d&&(d=k.buildNexusMetric("ib.thumbnailImpression",a+1,d.mediaObjectId,d.groupType,v.location.href,T,Z,aa),k.emitNexusMetric(d))})}catch(d){k.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}var O,b,r,I,n,f,g,p,W,q,S,Q,ba,N,T,Y,Z,aa,fa,ea,U,ca=!1,ja=!1,da="videoThumbnail",X=null,ia=null,oa,na=[],ga,ma=[],ka=null;return function(c,e,h,m){O=this;b=c;r=e;I=m;S=b.airyConfig;Z=b.contentWeblab&&b.contentWeblab+
":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(fa="tablet",aa="applicationType.ImageBlock.vse_ib_tablet_web"):l.capabilities.tablet?(fa="tablet",l.capabilities.isAmazonApp&&(aa="applicationType.ImageBlock.vse_ib_tablet_app")):(fa="desktop",aa="desktop_web.ImageBlock.vse_ib_iv");O.render=function(c,e,h,k,m,x){null!==X&&(clearInterval(X),X=null,f.parent().css("z-index",-1),g.hide());var q=[];if(2===b.unrolledImageBlockTreatment||
3===b.unrolledImageBlockTreatment){n=a("ul.regularAltImageViewLayout");ba=z(e,c,x);q=[];e=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var p=0;p<e.length;p++){var t=e[p].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",u=Number(e[p].classList[2].slice(10)),v=a(".thumbItemUnrolled").index(e[p]);q.push({color:c,thumbnailIndex:v,type:t,varient:"MAIN",
index:u})}for(p=0;p<q.length;p++)P(c,h,k,m,x,q[p])}else n=k,ba=z(e,c,x),P(c,h,k,m,x,null),c=r.getCurrentItem().color,h=d.getVideoHash(c,0,b),-1!==h&&(c=b.tabletWeb?d.getNilgiriServiceAjaxRequest(b,c,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:h.url,imageURL:h.slateUrl}},M.get(l,"#main-video-container",c,function(){l.$("#main-video-container").find(".vse-player-container").hide()},
function(){l.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));b.collapsibleThumbnails&&E(I);return ba};O.setupIntersectionObserverToWatchVideoThumbnail=w;O.emitMultipleImpressionMetric=R;d.isImageBlockGridViewHoverDelayEnabled()?O.update=function(a){null!==X&&(clearInterval(X),X=null,f.parent().css("z-index",-1),g.hide());var c=a.data;"ingress"===c.type||"swatchHover"===a.type||d.lazyLoadingRequired(c,r,b)||(r.setToPreviousItem(),"mouseenter"===a.type?(U&&clearTimeout(U),U=setTimeout(function(){r.setToCurrentItem(c);
F(null)},d.getHoveringDelayTimer())):"mouseleave"===a.type?U&&clearTimeout(U):"click"===a.type&&(r.setToCurrentItem(c),F(null)));if("swatchHover"===a.type)"ingress"===c.type||d.lazyLoadingRequired(c,r,b)||F(null),c.color===r.getCurrentItem().color?t(r.getCurrentItem(),""):a.captured||d.lazyLoadingRequired(c,r,b)&&!d.lazyLoadOnHoverEnabled(b)&&t(r.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=d.getVideoHash(c.color,c.index,b);"mouseenter"===a.type?(k.postCountMetric("dpcc_videoThumbHovered_"+
(c.thumbnailIndex+1)+"_"+ba),"chromeless-video"===c.type&&(e=k.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,Y,T,Z,aa),k.emitNexusMetric(e)),ea&&clearTimeout(ea),ea=setTimeout(function(){t(c,"");!b.usePeekHover&&l.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&d.selectGivenThumbnail(a.$declarativeParent,n)},d.getHoveringDelayTimer())):"mouseleave"===a.type?ea&&clearTimeout(ea):"click"===a.type&&(t(c,""),l.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&
(d.selectGivenThumbnail(a.$declarativeParent,n),e=k.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,Y,T,Z,aa),(!d.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==fa)&&k.emitNexusMetric(e),d.useTabbedImmersiveView(b)&&(k.emitNexusMetric(e),k.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+ba),Q.action="videoIngressClick",Q.clickTimeStamp=a.$event.timeStamp,Q.$event=a.$event,Q.$currentTarget=a.$currentTarget,I.dispatch("videoIngressClick",
Q),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:O.update=function(a){null!==X&&(clearInterval(X),X=null,f.parent().css("z-index",-1),g.hide());var c=a.data;"ingress"===c.type||d.lazyLoadingRequired(c,r,b)||F(null);if("swatchHover"===a.type)c.color===r.getCurrentItem().color?t(r.getCurrentItem(),""):a.captured||d.lazyLoadingRequired(c,r,b)&&!d.lazyLoadOnHoverEnabled(b)&&t(r.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=d.getVideoHash(c.color,
c.index,b);if("mouseenter"===a.type&&(k.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ba),"chromeless-video"===c.type)){var h=k.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,Y,T,Z,aa);k.emitNexusMetric(h)}t(c,"");b.usePeekHover&&"click"!==a.type||!l.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(d.selectGivenThumbnail(a.$declarativeParent,n),"click"===a.type&&(e=k.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,
e.groupType,Y,T,Z,aa),(!d.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==fa)&&k.emitNexusMetric(e),d.useTabbedImmersiveView(b)&&(k.emitNexusMetric(e),k.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+ba),Q.action="videoIngressClick",Q.clickTimeStamp=a.$event.timeStamp,Q.$event=a.$event,Q.$currentTarget=a.$currentTarget,I.dispatch("videoIngressClick",Q),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};b.isDPXFeatureEnabled&&(l.on("triggerVideoAjax",
K),l.on("notShowVideoCountAjax",H));l.on("vsePlayer-imageblock_tablet",A);l.on("vsePlayer-mbsoftlines",A)}});"use strict";C.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(l,a){function d(a,d,D,K,H){function u(a){"click"===a.type&&K.postCountMetric("thumbClick");"click"===a.type&&E.overrideAltImageClickAction?w.dispatch("thumbActionClick",a):w.dispatch("updateSelection",a)}function F(a){E.useClickZoom||w.dispatch("imageClick",a)}function B(a){E.useClickZoom||w.dispatch("imageHover",
a)}function G(a){w.dispatch("button360Click",a)}function t(c){!D.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(e.update(c),"swatchHover"!==c.type&&h.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&K.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",c.data)):(e.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof v.markFeatureRender&&v.markFeatureRender("imageblock",
c))}function z(a){w.dispatch("resize",a)}function J(a){D.selectThumbnail(a,y)}function L(){"function"===typeof v.markFeatureInteractive&&v.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function m(){E.interactiveCallJSPEnabled||("function"===typeof v.markFeatureInteractive&&v.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click",
"hover"],alwaysInteractive:!0}]}),1===l.useIV?C.when("a-modal").execute(function(){L()}):L());E.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],u);a.declarative("thumb-action",["click"],u);a.declarative("main-image-click",["click"],F);a.declarative("main-image-click",["mouseenter","mouseleave"],B);a.declarative("button-360-click",["click"],G);a.on("resize",z)}function c(a){var c=a.data,d;c&&"ingress"!==c.type&&"click"===a.type&&(d=a);return d}function A(a){var c=
h.getCurrentItem(),d={type:"click"};d.$declarativeParent=a;d.data=c;return d}function P(a){D.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&D.updateThumbnailHoverDelay(a.$target)}var e,E,w,h,y;return function(a,k,l){e=this;E=a;w=k;h=l;y=d("#imageBlock #altImages ul");var b=d("#imageBlock .canvas"),r=d("#main-image-container"),u;e.subViews=[];for(k=0;k<H.length;k++)e.subViews.push(new H[k](a,l,e,w));e.render=function(a,c,g,k){var l=0;y.find(".item").remove();a=a||h.getCurrentItem().color;
d.each(e.subViews,function(d,e){l=(2===E.unrolledImageBlockTreatment||3===E.unrolledImageBlockTreatment?e.render(a,l,b,y,r,c,g,k):e.render(a,l,b,y,r,c,g))||l});var m=y.find(".a-button-selected").closest(".a-declarative");u=A(m)};e.init=function(){y=d("#imageBlock #altImages ul");var a=y.find(".a-button-selected").closest(".a-declarative"),b=a.data("action"),a=a.data(b)||{};a.color=E.landingAsinColor||E.defaultColor;w.dispatch("updateModel",{data:a});e.render(a.color,!0);E.isDebug&&v.console&&console.log(E);
w.register("updateView",t);w.register("selectThumbnail",J);m()};e.update=function(a){P(a);d.each(e.subViews,function(b,c){c.update(a)});E.usePeekHover&&("mouseleave"===a.type?w.dispatch("updateSelection",u):"click"===a.type&&(u=c(a)||u))}}}var V=["A","jQuery","imageBlockUtils","postMetric"].concat(l.views);C.when.apply(C,V).register("ImageBlockView",function(){for(var a=arguments[0],l=arguments[1],v=arguments[2],C=arguments[3],H=[],u=4,F=arguments.length;u<F;u++)H.push(arguments[u]);return d(a,l,
v,C,H)})})});
/* ******** */
(function(B){var q=window.AmazonUIPageJS||window.P,sa=q._namespace||q.attributeErrors,c=sa?sa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):q;c.guardFatal?c.guardFatal(B)(c,window):c.execute(function(){B(c,window)})})(function(B,q,sa){B.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(c,b){var a;return function(b,c,fa,n){a=this;a.render=function(){};a.update=function(){}}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(c,b,a,C,e){function fa(){e.populateTitle(f.find("#ivTitle"),160,I)}function n(){var b=p.getCurrentItem().color;D=I.colorImages[b];z=I.heroImage[b];w=E=0;a.isDefined(z)&&(w=z.length);a.isDefined(D)&&(E=D.length)}function t(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=f.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var p=e.width(),
l=e.height();0<e.length&&(e[0].naturalWidth&&(p=e[0].naturalWidth),e[0].naturalHeight&&(l=e[0].naturalHeight));a.css("cursor","auto");var p=0===p?1:p,l=0===l?1:l,n=Math.min(b/p,c/l),w=l*n,z=p*n;1>n?(y?a.css("cursor","url('"+I.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),k=!0):k=!1;p=Math.min(z,p);l=Math.min(w-20,l);e.css({"margin-top":(c-l)/2,"margin-left":(b-p)/2,height:l,width:p});a.css("visibility","visible");J=!1}
function B(a){var b=f.find("#ivLargeImage");b.css("visibility","hidden");b.empty();e.animateStageIn(b);b.append(a);q()}function R(p){f.find("#ivLargeImage").css("display","none");f.find("#ivLargeImage").css("display","block");var k;"hero-image"===p?a.isDefined(z)&&(k=t(z[x.index])):a.isDefined(D)&&(k=t(D[x.index]));if(a.isDefined(k)){f.find(".fullscreen").remove();var l=b("\x3cimg\x3e").attr("src",k).addClass("fullscreen"),n=f.find("#ivLargeImage");e.animateStageOut(n,function(){l.load(function(){B(l);
c.trigger("dp:image-block:imageBlockImmersiveImageLoad",x.index)});if(l[0].complete)B(l),c.trigger("dp:image-block:imageBlockImmersiveImageLoad",x.index);else{n.empty();var a=(n.height()-104)/2,f=(n.width()-80)/2;b("\x3cimg\x3e").attr("src",I.staticImages.spinner).css({position:"relative",top:a+"px",left:f+"px"}).appendTo(n)}})}}function S(a){f.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?x.type="hero-image":x.type="image";x.index=a.attr("id").split("_")[1];
R(x.type);C.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(x.index,10)+1)+"_"+(w+E))}function L(){f.delegate(".ivThumb","click",function(){var a=b(this);S(a)})}function M(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function T(a){var b=U.top-(a.pageY-u[1])*l;a=M(U.left-(a.pageX-u[0])*l,G.left);b=M(b,G.top);f.find(".fullscreen").css({left:a,top:b})}function Y(){f.delegate("#ivLargeImage","click",function(a){if(J)q();else if(k){f.find(".fullscreen").removeAttr("style");if(k){var b=f.find("#ivLargeImage"),
e=b.find(".fullscreen");y?b.css("cursor","url('"+I.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));J=!0;var p=f.find("#ivLargeImage");G.left=p.width()-e.width();G.top=p.height()-e.height();var p=b.height()/2,c=b.width()/2;u=[b.offset().left+c,b.offset().top+p];U.top=p-e.height()/2;U.left=c-e.width()/2;e.css({position:"relative",left:U.left,top:U.top});l=Math.max(e.height()/b.height(),e.width()/b.width())}T(a);C.postCountMetric("dpcc_iv_largeImageCLick")}});
f.delegate("#ivLargeImage","mousemove",function(a){J&&T(a)})}function ca(){f.find("#ivLargeImage").empty()}function X(c){if(V){f=b("#ivMain");n();x=p.getCurrentItem();fa();e.populateVariationSelection(f.find("#ivVariationSelection"));c=f.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var k=w+E,l=0,t=0;l<k;)for(var u=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),C=0;4>C&&l<k;C++,l++,t++)if(t<w){var q=z[l].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
l,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":l+1}).appendTo(u);y.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(q)+'") center no-repeat')}else t>=w&&t<E+w&&(q=D[l-w].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(l-w),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":l-w+1}).appendTo(u),y.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(q)+'") center no-repeat'));N();V=!1}else fa();c=b("#ivImagesTab").height();f.css("height",c);k=f.find("#ivTitle").outerHeight(!0);l=f.find("#ivVariationSelection").outerHeight(!0);t=f.find("#ivThumbs");u=e.getDimension(t,"margin-top")+e.getDimension(t,"margin-bottom");t.css("height",c-k-l-u);f.find("#ivLargeImage").css("height",c);c=f.find("#ivStage");k=f[0]&&f[0].getBoundingClientRect&&
Math.floor(f[0].getBoundingClientRect().width)||f.width();c.css("width",k-e.getDimension(f,"padding-left")-e.getDimension(f,"padding-right")-f.find("#ivThumbColumn").width()-e.getDimension(c,"margin-left")-e.getDimension(c,"margin-right"));x=p.getCurrentItem();c="hero-image"===x.type?f.find("#ivHeroImage_"+x.index):"image"===x.type?f.find("#ivImage_"+x.index):a.isDefined(z)?f.find("#ivHeroImage_"+x.index):f.find("#ivImage_"+x.index);a.isjQueryObjDefined(c)||(c=f.find("#ivImage_0"));S(c)}var da,I,
p,f,z,D,w,E,x,y=navigator.userAgent.match(/msie|trident/i),V=!0,J=!1,k=!1,G={},U={},l,u,V=!0,N=c.once(function(){L();Y();e.attachImmersiveViewResizeHandler(X);e.attachTabDeselectHandler("ivImagesTab",ca)});return function(a,c,f,k){da=this;I=a;p=c;da.render=function(a,c,f,k,p,l){V=!0;n();0===w+E?e.hideTabHeading("ivImagesTabHeading"):e.unhideTabHeading("ivImagesTabHeading");1===w+E?b("#ivThumbs").hide():b("#ivThumbs").show()};da.update=function(a){};e.attachTabSelectHandler("ivImagesTab",X)}});"use strict";
B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(c,b,a,C,e,fa,n){function t(){var a=L.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),e=a.find(".a-popover-inner"),a=a.height()-n.getDimension(e,"padding-top")-n.getDimension(e,"padding-bottom");b("#iv-tab-view-container").css("height",a);Y=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
b(this).css("display")}).length;1<Y?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),e=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=e):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",a);c.trigger("dp:image-block:immersive-view:resize")}function ka(){c.trigger("dp:image-block:immersive-view:reset")}function ba(p){if(a.isImmersiveViewEnabled(S,L.getCurrentItem().color))if(X){var f=p.$event.originalEvent;
f.acknowledge&&f.acknowledge(p.$currentTarget[0]);e.isEnabled&&fa.logImmersiveViewRequestServed(e);C.postCountMetric("dppc_immersiveViewOpened");a.isDefined(p)&&("button-360-click"===p.action?b("#iv360TabHeading").click():"videoIngressClick"===p.action?(ca=p.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===p.action?(ca=p.clickTimeStamp,b("#ivShowroomTabHeading").click()):b("#ivImagesTabHeading").click());f=L.getImmersiveViewModalInstance();if(a.isDefined(f))f.show();else{p=
b("#auiImmersiveViewDiv");var f=Math.min(Math.max(b(q).height()-150,540),1080),n=Math.min(Math.max(b(q).width()-75,990),1980),f=X.create(p,{name:"immersiveView",activate:"onclick",width:n,height:f,popoverLabel:"ImmersiveView",hideHeader:!0});L.setImmersiveViewModalInstance(f);p.click()}T&&(T=!1,da(),c.trigger("dp:image-block:immersive-view:init"))}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else C.postCountMetric("immersiveViewNotExistsClickCount")}
var R,S,L,M,T=!0,Y=0,ca,X;B.when("a-modal").execute(function(a){X=a});var da=c.once(function(){c.on("a:popover:afterUpdatePosition:immersiveView",t);c.on("a:popover:afterShow:immersiveView",t);c.on("a:popover:afterHide:immersiveView",ka)}),I=c.once(function(){var a=b("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(e){var n=a.filter(".iv-active");n.attr("id")!==b(this).attr("id")&&c.trigger("dp:ivTabs:"+n.find("a").attr("data-iv-tab-view")+":deselect",e);a.removeClass("iv-active");
b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();n=b(this).find("a").attr("data-iv-tab-view");b("#"+n).show();"ivVideosTab"===n&&(e.clickTimeStamp=ca||e.timeStamp);c.trigger("dp:ivTabs:"+n+":select",e);C.postCountMetric("dppc_"+n);return!1})});return function(b,f,n,t){R=this;S=b;L=f;e.refToModel=L;M=t;R.render=function(a,b,c,e,f,n){C.postCountMetric("dpcc_altThumbs_"+b);T=!0};R.update=function(a){};R.getTitle=function(){};R.getVariationSelectionInfo=function(){};I();
a.isImmersiveViewEnabled(S,L.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");M.register("imageClick",ba);M.register("button360Click",ba);S.collapsibleThumbnails&&c.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&ba(a)});a.useTabbedImmersiveView(S)&&(M.register("videoIngressClick",ba),M.register("showroomIngressClick",ba))}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(c,b,a,C,e,fa,n,t){function ka(d){return d.hiRes||d.large||d.main[d.main.length-1]}function ba(){g.find("#ivTitle").click(function(){ia.hide()})}function R(){r=Pa?{type:"360-spin"}:O.getCurrentItem()}function S(){var d=g.find("#ivStage"),a=ia.$container.find(".a-popover-wrapper"),b=a.find(".a-popover-inner"),a=a.height()-t.getDimension(b,"padding-top")-t.getDimension(b,"padding-bottom");g.css("height",a);
var b=g.find("#ivTitle").outerHeight(!0),h=g.find("#ivVariationSelection").outerHeight(!0),c=g.find("#ivMediaSelection").outerHeight(!0),e=g.find("#ivThumbs"),k=t.getDimension(e,"margin-top")+t.getDimension(e,"margin-bottom");e.css("height",a-b-h-c-k);g.find("#ivLargeImage").css("height",a);d.css("width",g.width()-t.getDimension(g,"padding-left")-t.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-t.getDimension(d,"margin-left")-t.getDimension(d,"margin-right"))}function L(){g.find("#ivMediaSelect").change(function(){var d=
b(this).val();"all"===d?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").show(),"chromeful-video"===r.type&&g.find("#ivVideo_"+r.index).click()):"images"===d?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").hide(),"chromeful-video"===r.type&&(0===W&&0===H?g.find("#iv360").click():0===W?g.find("#ivHeroImage_0").click():g.find("#ivImage_0").click())):"videos"===d&&(g.find("#ivVideoList").show(),g.find("#ivThumbs").hide(),"chromeful-video"!==
r.type?g.find("#ivVideoList_0").click():g.find("#ivVideoList_"+r.index).click())})}function M(){var d=g.find("#ivStage").find("#ivLargeImage"),a=d.width(),b=d.height(),h=d.find(".fullscreen");h.removeAttr("style");var c=h.width(),e=h.height();0<h.length&&(h[0].naturalWidth&&(c=h[0].naturalWidth),h[0].naturalHeight&&(e=h[0].naturalHeight));d.css("cursor","auto");var c=0===c?1:c,e=0===e?1:e,k=Math.min(a/c,b/e),l=e*k,f=c*k;1>k?(Qa?d.css("cursor","url('"+m.staticImages.zoomIn+"'), auto"):(d.css("cursor",
"-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor","zoom-in")),Aa=!0):Aa=!1;c=Math.min(f,c);e=Math.min(l-20,e);h.css({"margin-top":(b-e)/2,"margin-left":(a-c)/2,height:e,width:c});d.css("visibility","visible");Ba=!1}function T(d){var a=g.find("#ivLargeImage");a.css("visibility","hidden");a.empty();t.animateStageIn(a);a.append(d);M()}function Y(){A&&A.pause();g.find("#ivLarge360").css("display","none");g.find("#ivLargeVideo").css("display","none");g.find("#ivLargeImage").css("display",
"none");z()}function ca(d){Y();g.find("#ivLargeImage").css("display","block");var h;"hero-image"===d?a.isDefined(ga)&&(h=ka(ga[r.index])):a.isDefined(ja)&&(h=ka(ja[r.index]));if(a.isDefined(h)){g.find(".fullscreen").remove();var c=b("\x3cimg\x3e").attr("src",h).addClass("fullscreen"),e=g.find("#ivLargeImage");t.animateStageOut(e,function(){c.load(function(){T(c)});if(c[0].complete)T(c);else{e.empty();var d=(e.height()-104)/2,a=(e.width()-80)/2;b("\x3cimg\x3e").attr("src",m.staticImages.spinner).css({position:"relative",
top:d+"px",left:a+"px"}).appendTo(e)}})}}function X(){var d=parseInt(r.index,10)+1;d>=ea.length||g.find("#ivVideo_"+d).click()}function da(){var d;a.isDefined(ea)&&(d=ea[r.index]);if(a.isDefined(d)){Y();var h=g.find("#ivLargeVideo").css("display","block");A?(A.isDetached()&&A.attach(h[0]),a.loadMediaIntoAiry(A,d,xa,m.tabletWeb),A.show()):(A=a.createAiryInstanceForChromeful(h,d,xa,"ImmersiveView"),xa.enableContinuousPlay&&A.bind("ended",X));A.play({isAsync:!0})}}function I(){R();var d;d="hero-image"===
r.type?g.find("#ivHeroImage_"+r.index):"image"===r.type?g.find("#ivImage_"+r.index):"chromeful-video"===r.type||"chromeless-video"===r.type?g.find("#ivVideo_"+r.index):"360-spin"===r.type?g.find("#iv360"):a.isDefined(ga)?g.find("#ivHeroImage_"+r.index):g.find("#ivImage_"+r.index);a.isjQueryObjDefined(d)||(d=g.find("#ivImage_0"));p(d)}function p(d){g.find(".ivThumb").removeClass("selected");d.addClass("selected");d.hasClass("ivThumbVideo")?(r.type="chromeful-video",r.index=d.attr("id").split("_")[1],
da()):d.hasClass("ivHeroImage")?(r.type="hero-image",r.index=d.attr("id").split("_")[1],ca(r.type)):d.hasClass("iv360Image")?(r.type="360-spin",r.index=0,f()):(r.type="image",r.index=d.attr("id").split("_")[1],ca(r.type))}function f(){Y();g.find("#ivLarge360").css("display","block");y();var d=g.find("#ivLarge360");d.css({opacity:0});setTimeout(function(){d.css({opacity:.4});t.animateStageIn(d)},200);w();e.postCountMetric("dppc_click360");ta=Date.now()}function z(){0<ta&&(D("dppc_duration360",Date.now()-
ta),ta=0)}function D(d,a){q.ue&&q.ue.count(d,a)}function w(){if(0<qa){var d=g.find(".iv360Hint");d.removeClass("iv360HintFaded");d.animate({opacity:1},200)}}function E(d,a){if(qa<d.length){var h=b("\x3cimg /\x3e").css({display:"block",width:6*pa+"px",height:ua+"px"});h.hide();a.append(h);h.get(0).onload=function(){a.closest(document.documentElement).length&&(qa++,1===qa&&(w(),0<ta&&D("dppc_loadTime360",Date.now()-ta)),0<Ha&&D("dppc_perSpriteloadTime360",Date.now()-Ha),g.find("#iv360Spinner").hide(),
h.show(),ya=5*F.imageLocations[Math.floor(za/F.imageLocations[0].length)][za%F.imageLocations[0].length],E(d,a))};h.attr("src",d[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+va+"$2"+wa));Ha=Date.now()}}function x(d){if(a.isDefined(F.spriteWidthSizes)&&0<F.spriteWidthSizes.length){var h=F.spriteWidthSizes,b=h.length,e=h[0],c=h[b-1];if(d<=e)return e;if(d>c)return c;for(e=0;e<b;e++)if(d>h[e]&&d<=h[e+1])return h[e+1]}else return d}function y(){var d=g.find("#ivLarge360");d.children("#image-360-sprites").length||
(d.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),d.css({"margin-left":0,"margin-top":0,width:d.parent().width(),height:d.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",m.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(d),Ia=!0,V())}function V(){if(a.isDefined(F.spriteURLs)&&
a.isDefined(g)&&Ia&&!Ja){var d=g.find("#ivLarge360"),h=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(F.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",F.staticImages.hint360).appendTo(h);b("\x3cdiv\x3e").css({"text-align":"center"}).text(m.staticStrings.dragToSpin).appendTo(h);h.appendTo(d);var h=F.imageWidth,e=F.imageHeight,c=d.parent().width(),f=d.parent().height(),
r=0,n=0;h/e>c/f?(va=x(c),wa=Math.round(e/h*va),pa=Math.ceil(c),ua=Math.ceil(wa/va*c),n=(f-ua)/2):(wa=x(f),va=Math.round(h/e*wa),ua=Math.ceil(f),pa=Math.ceil(va/wa*f),r=(c-pa)/2);d.css({"margin-left":r,"margin-top":n,width:pa+"px",height:ua+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*pa+"px");E(F.spriteURLs,g.find("#image-360-sprites"),0);h=g.find("#ivLarge360");h.bind("mousedown",U);h.bind("touchstart",J);h.bind("touchmove",k);h.bind("touchend",G);b(document).bind("mousemove",
l);b(document).bind("mouseup",u);a.isDefined(m.staticImages.grab)&&d.css("cursor","url('"+m.staticImages.grab+"'), auto");Ja=!0}}function J(d){Ca=!0;Ka=d.originalEvent.targetTouches[0].clientX}function k(d){Ca&&(N(d.originalEvent.targetTouches[0].clientX-Ka),Ka=d.originalEvent.targetTouches[0].clientX)}function G(d){Ca&&(Ca=!1)}function U(d){Da=!0;La=d.originalEvent.clientX;a.isDefined(m.staticImages.grabbing)&&(d=g.find("#ivLarge360"),d.css("cursor","url('"+m.staticImages.grabbing+"'), auto"),d.parents(".a-declarative").last().css("cursor",
"url('"+m.staticImages.grabbing+"'), auto"));return!1}function l(d){Da&&(N(d.originalEvent.clientX-La),La=d.originalEvent.clientX)}function u(d){Da&&(Da=!1,a.isDefined(m.staticImages.grab)&&(d=g.find("#ivLarge360"),d.css("cursor","url('"+m.staticImages.grab+"'), auto"),d.parents(".a-declarative").last().css("cursor","auto")))}function N(d){for(d=ya-=d/pa*180;0>d;)d+=360;for(;360<d;)d-=360;ya=d;var h;d=360;for(var b=0;b<qa;b++)for(var e=0;e<F.imageLocations[b].length;e++){var c=Math.abs(ya-5*F.imageLocations[b][e]);
c<d&&(d=c,h=b*F.imageLocations[0].length+e)}h!==za&&(d=Math.floor(h/F.imageLocations[0].length),d!==Math.floor(za/F.imageLocations[0].length)&&(a.isDefined(Ma)||(Ma=document.createElement("canvas").getContext("2d")),b=g.find("#image-360-sprites").children(),Ma.drawImage(b[d],0,0)),d=g.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(d)&&(d.addClass("iv360HintFaded"),d.animate({opacity:0},750)));za=h;d=h%F.imageLocations[0].length*-1*pa;h=-1*Math.floor(h/F.imageLocations[0].length)*ua;b=g.find("#ivLarge360").children("#image-360-sprites");
b.css("-webkit-transform","translate3d("+d+"px, "+h+"px, 0)");b.css("transform","translate3d("+d+"px, "+h+"px, 0)")}function K(){g.delegate(".ivThumb","click",function(){var d=b(this);p(d)});g.delegate(".ivThumbVideoListOuter","click",function(){g.find(".ivThumbVideoListOuter").removeClass("selected");var d=b(this);d.addClass("selected");r.type="chromeful-video";r.index=d.attr("id").split("_")[1];da()})}function Z(){A&&!A.isDetached()&&(xa.volume=A.getVolume(),A.detach(),!document.all||q.atob||document.addEventListener||
(A=null));g.find("#ivLargeImage").empty();z()}function P(d,a){return 0<a?a/2:Math.min(0,Math.max(a,d))}function ha(a){var h=ra.left-(a.pageX-Ea[0])*Fa;c.capabilities.rtl&&(h=ra.left-(b(q).width()-a.pageX-Ea[0])*Fa);a=ra.top-(a.pageY-Ea[1])*Fa;h=P(h,Ga.left);a=P(a,Ga.top);g.find(".fullscreen").css({left:h,top:a})}function na(){g.delegate("#ivLargeImage","click",function(a){if(Ba)M();else if(Aa){g.find(".fullscreen").removeAttr("style");if(Aa){var h=g.find("#ivLargeImage"),b=h.find(".fullscreen");Qa?
h.css("cursor","url('"+m.staticImages.zoomOut+"'), auto"):(h.css("cursor","-webkit-zoom-out"),h.css("cursor","-moz-zoom-out"),h.css("cursor","zoom-out"));Ba=!0;var e=g.find("#ivLargeImage");Ga.left=e.width()-b.width();Ga.top=e.height()-b.height();var e=h.height()/2,c=h.width()/2;Ea=[h.offset().left+c,h.offset().top+e];ra.top=e-b.height()/2;ra.left=c-b.width()/2;b.css({position:"relative",left:ra.left,top:ra.top});Fa=Math.max(b.height()/h.height(),b.width()/h.width())}ha(a)}});g.delegate("#ivLargeImage",
"mousemove",function(a){Ba&&ha(a)})}function la(d){if(a.isImmersiveViewEnabled(m,O.getCurrentItem().color))if(Na){var k=d.$event.originalEvent;k.acknowledge&&k.acknowledge(d.$currentTarget[0]);Pa=a.isDefined(d)&&"button-360-click"===d.action;fa.isEnabled&&n.logImmersiveViewRequestServed(fa);e.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(ia))ia.show();else{d=b("#auiImmersiveViewDiv");var k=b(q).height()-150,f=b(q).width()-75;ia=Na.create(d,{name:"immersiveView",activate:"onclick",width:f,
height:k,popoverLabel:"ImmersiveView",hideHeader:!0});d.click()}if(Oa){g=b("#ivMain");d=O.getCurrentItem().color;ja=m.colorImages[d];ga=m.heroImage[d];ea=m.useChildVideos?m.colorToVideo[d]:m.videos;Ra=Q()&&m.spin360ColorEnabled[d];F=Q()?m.spin360ColorData[d]:sa;R();ma=H=h=W=0;a.isDefined(ga)&&(H=ga.length);a.isDefined(ja)&&(W=ja.length);a.isDefined(ea)&&(h=ea.length);Ra&&(ma=1);t.populateTitle(g.find("#ivTitle"),45,m);t.populateVariationSelection(g.find("#ivVariationSelection"));d=g.find("#ivMediaSelect");
0===W+ma||0===h?(d.parent().hide(),g.find("#ivThumbs").addClass("noMediaSelection")):(d.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(m.staticStrings.allMedia+" ("+(H+W+ma+h)+")").appendTo(d),b("\x3coption/\x3e").attr("value","images").text(m.staticStrings.images+" ("+(H+W+ma)+")").appendTo(d),b("\x3coption/\x3e").attr("value","videos").text(m.staticStrings.videos+" ("+h+")").appendTo(d),d.parent().show(),d.val("all"));d=g.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();
for(var k=H+W+h+ma,l=f=0;f<k;)for(var r=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),p=0;3>p&&f<k;p++,f++,l++)if(l<H){var v=ga[f].thumb,A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(r);A.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(v)+'") center no-repeat')}else if(l>=H&&l<W+H)v=ja[f-H].thumb,A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(f-H)).appendTo(r),A.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(v)+'") center no-repeat');else if(l>=H+W&&l<W+H+ma)A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(r),A.find(".ivThumbImage").css("background",'url("'+(a.isDefined(m.staticImages.icon360)?t.getResizedThumbnailURL(m.staticImages.icon360,!0):"")+'") center no-repeat');else if(v=ea[f-W-H-ma],A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(f-W-H-ma)).appendTo(r),A.find(".ivThumbImage").css("background",'url("'+v.thumbUrl+'") center no-repeat'),a.isDefined(v)){var u={position:"triggerTop"},w=g.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");w.find(".ivVideoPopoverTitle").text(v.title);w.find(".ivVideoPopoverDuration").text(v.durationTimestamp);u.inlineContent=w[0];c.declarative.create(A,"a-tooltip",u)}d=g.find("#ivVideoList");d.find(".ivThumbVideoListOuter").not(".placeholder").remove();
k=d.find(".placeholder");for(f=0;f<h;f++)l=ea[f],r=k.clone().removeClass("placeholder").appendTo(d),r.attr("id","ivVideoList_"+f),r.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),r.find(".ivThumbTitle").text(l.title),r.find(".ivThumbDuration").text(l.durationTimestamp);g.find("#ivLarge360").empty();qa=0;Ja=Ia=!1;xa=m.airyConfig;Oa=!1;Sa()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else e.postCountMetric("immersiveViewNotExistsClickCount")}function oa(h){var b=m.colorToAsin[h],c={},g=500;if(b&&b.asin){c.params={asin:b.asin};var f="360"+b.asin,k=Date.now();c.success=function(b){D("dppc_asyncRequestTime360",Date.now()-k);b&&a.isDefined(b.spin360.spin360Model)?(a.ajaxState(f,"success"),m.spin360ColorData[h]=b.spin360.spin360Model,h===O.getCurrentItem().color&&(F=m.spin360ColorData[h],V())):c.error()};c.error=function(){e.postCountMetric("dppc_asyncFailed360");D("dppc_asyncRequestTime360",
Date.now()-k);g*=2;16E3>=g?setTimeout(function(){k=Date.now();C.load("/gp/product/features/apparel-main-image/360.html",c)},g):a.ajaxState(f,"fail")};a.ajaxState(f)&&"fail"!==a.ajaxState(f)||(C.load("/gp/product/features/apparel-main-image/360.html",c),a.ajaxState(f,"sent"))}}function Q(){return a.isDefined(m.spin360ConfigEnabled)&&m.spin360ConfigEnabled}var aa,m,O,v,ia,g,ga,ja,ea,H,W,h,ma,r,A,xa,F,Ra,pa,ua,wa,va,La,Ka,Pa=!1,Ia=!1,Ja=!1,ya=0,za=0,ta=0,Ha=0,Da=!1,Ca=!1,qa=0,Ma,Qa=navigator.userAgent.match(/msie|trident/i),
Oa=!0,Ba=!1,Aa=!1,Ga={},ra={},Fa,Ea,Na;B.when("a-modal").execute(function(a){Na=a});var Sa=c.once(function(){L();K();na();c.on("a:popover:afterUpdatePosition:immersiveView",S);c.on("a:popover:afterShow:immersiveView",I);c.on("a:popover:afterHide:immersiveView",Z);ba()});return function(h,g,f,k){aa=this;m=h;O=g;fa.refToModel=O;v=k;Q()&&(m.spin360ColorData[m.landingAsinColor]=m.spin360ColorData[m.defaultColor],m.spin360ColorEnabled[m.landingAsinColor]=m.spin360ColorEnabled[m.defaultColor]);a.isDefined(m.staticImages.icon360)&&
b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",t.addStyleCodeToURL(m.staticImages.icon360,"_FMpng_RI_"));aa.render=function(h,d,b,g,f,k){Oa=!0;Q()&&m.spin360ColorEnabled[h]&&!a.isDefined(m.spin360ColorData[h])&&(m.spin360ColorData[h]={},oa(h));a.isImmersiveViewEnabled(m,O.getCurrentItem().color)&&Q()&&m.spin360ColorEnabled[h]&&(d===m.maxAlts&&(h=g.find(".item.imageThumbnail"),b=g.find(".item.videoThumbnail"),a.isDefined(b)&&1<b.length?b.last().remove():h.last().remove(),
d--),h=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(h,"button-360-click"),g.append(h),d++,e.postCountMetric("dppc_display360"));return d};aa.update=function(a){};a.isImmersiveViewEnabled(m,O.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");v.register("imageClick",la);v.register("button360Click",la)}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(c,b,a,C,e,q,n,t,B){function ba(){var a=b("#iv360Tab").height();l.css("height",a);var e=l.find("#ivTitle360").outerHeight(!0),c=l.find("#ivVariationSelection360").outerHeight(!0),g=l.find("#ivThumbs360"),f=n.getDimension(g,"margin-top")+n.getDimension(g,"margin-bottom");g.css("height",a-e-c-f);a=l.find("#ivStage360");e=l[0]&&l[0].getBoundingClientRect&&Math.floor(l[0].getBoundingClientRect().width)||
l.width();a.css("width",e-n.getDimension(l,"padding-left")-n.getDimension(l,"padding-right")-l.find("#ivThumbColumn360").width()-n.getDimension(a,"margin-left")-n.getDimension(a,"margin-right"))}function R(){T();var a=l.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});n.animateStageIn(a)},200);S()}function S(){if(0<g){var a=l.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function L(a,c){if(g<a.length){var f=b("\x3cimg /\x3e").css({display:"block",
width:6*N+"px",height:K+"px"});f.hide();c.append(f);f.get(0).onload=function(){c.closest(document.documentElement).length&&(g++,1===g&&(S(),0<m&&(e.time("dppc_loadTime360",Date.now()-m,k.mediaAsin),q.postTimeMetric("dppc_loadTime360",Date.now()-m))),0<O&&(e.time("dppc_perSpriteloadTime360",Date.now()-O,k.mediaAsin),q.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-O)),l.find("#iv360Spinner").hide(),f.show(),Q=5*u.imageLocations[Math.floor(aa/u.imageLocations[0].length)][aa%u.imageLocations[0].length],
L(a,c))};f.attr("src",a[g].replace(/(\._SP)\d+(,)\d+/,"$1"+P+"$2"+Z));O=Date.now()}}function M(h){if(a.isDefined(u.spriteWidthSizes)&&0<u.spriteWidthSizes.length){var b=u.spriteWidthSizes,e=b.length,c=b[0],g=b[e-1];if(h<=c)return c;if(h>g)return g;for(c=0;c<e;c++)if(h>b[c]&&h<=b[c+1])return b[c+1]}else return h}function T(){var a=l.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),
height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",k.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),la=!0,Y())}function Y(){if(a.isDefined(u.spriteURLs)&&a.isDefined(l)&&la&&!oa){var h=l.find("#ivLarge360"),c=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(u.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",u.staticImages.hint360).appendTo(c);b("\x3cdiv\x3e").css({"text-align":"center"}).text(k.staticStrings.dragToSpin).appendTo(c);c.appendTo(h);var c=u.imageWidth,e=u.imageHeight,g=h.parent().width(),v=h.parent().height(),m=0,n=0;c/e>g/v?(P=M(g),Z=Math.round(e/c*P),N=Math.ceil(g),K=Math.ceil(Z/P*g),n=(v-K)/2):(Z=M(v),P=Math.round(c/
e*Z),K=Math.ceil(v),N=Math.ceil(P/Z*v),m=(g-N)/2);h.css({"margin-left":m,"margin-top":n,width:N+"px",height:K+"px",overflow:"hidden",position:"relative"});h.children("#image-360-sprites").css("width",6*N+"px");L(u.spriteURLs,l.find("#image-360-sprites"),0);c=l.find("#ivLarge360");c.bind("mousedown",I);c.bind("touchstart",ca);c.bind("touchmove",X);c.bind("touchend",da);b(document).bind("mousemove",p);b(document).bind("mouseup",f);a.isDefined(k.staticImages.grab)&&h.css("cursor","url('"+k.staticImages.grab+
"'), auto");oa=!0}}function ca(a){ia=!0;na=a.originalEvent.targetTouches[0].clientX}function X(a){ia&&(z(a.originalEvent.targetTouches[0].clientX-na),na=a.originalEvent.targetTouches[0].clientX)}function da(a){ia&&(ia=!1)}function I(h){v=!0;ha=h.originalEvent.clientX;a.isDefined(k.staticImages.grabbing)&&(h=l.find("#ivLarge360"),h.css("cursor","url('"+k.staticImages.grabbing+"'), auto"),h.parents(".a-declarative").last().css("cursor","url('"+k.staticImages.grabbing+"'), auto"));return!1}function p(a){v&&
(z(a.originalEvent.clientX-ha),ha=a.originalEvent.clientX)}function f(b){v&&(v=!1,a.isDefined(k.staticImages.grab)&&(b=l.find("#ivLarge360"),b.css("cursor","url('"+k.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function z(b){Q-=b/N*180;ja&&(e.count("dppc_360dragToSpin",k.mediaAsin),q.postCountMetric("dppc_360dragToSpin"));ja=!1;for(b=Q;0>b;)b+=360;for(;360<b;)b-=360;Q=b;var c;b=360;for(var f=0;f<g;f++)for(var v=0;v<u.imageLocations[f].length;v++){var m=Math.abs(Q-
5*u.imageLocations[f][v]);m<b&&(b=m,c=f*u.imageLocations[0].length+v)}c!==aa&&(b=Math.floor(c/u.imageLocations[0].length),b!==Math.floor(aa/u.imageLocations[0].length)&&(a.isDefined(ga)||(ga=document.createElement("canvas").getContext("2d")),f=l.find("#image-360-sprites").children(),ga.drawImage(f[b],0,0)),b=l.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));aa=c;b=c%u.imageLocations[0].length*-1*N;c=-1*Math.floor(c/u.imageLocations[0].length)*
K;f=l.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+b+"px, "+c+"px, 0)");f.css("transform","translate3d("+b+"px, "+c+"px, 0)")}function D(){if(H){l=b("#ivMain360");var a=G.getCurrentItem().color;E()&&x(a);u=E()?k.spin360ColorData[a]:sa;n.populateTitle(l.find("#ivTitle360"),160,k);n.populateVariationSelection(l.find("#ivVariationSelection360"));l.find("#ivLarge360").empty();g=0;oa=la=!1;aa=Q=0;W();H=!1}0!==b("#iv360Tab").height()&&(n.detachImmersiveViewResizeHandler(D),
ba(),R(),m=Date.now(),ea=ja=!0,e.count("dppc_click360",k.mediaAsin),q.postCountMetric("dppc_click360"))}function w(b,c,g){b=k.colorToAsin[g];var f={},l=500;if(!b||!b.asin)if(g===k.defaultColor)b={asin:k.winningAsin};else return;f.params={asin:b.asin};var v="360"+b.asin,m=Date.now();f.success=function(b){e.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&t.setData(b),a.ajaxState(v,
"success")):f.error()};f.error=function(){e.count("dppc_asyncFailedTransient360",k.mediaAsin);q.postCountMetric("dppc_asyncFailedTransient360");e.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);l*=2;16E3>=l?setTimeout(function(){m=Date.now();C.load("/gp/product/features/apparel-main-image/360.html",f)},l):(e.count("dppc_asyncFailed360",k.mediaAsin),q.postCountMetric("dppc_asyncFailed360"),a.ajaxState(v,"fail"))};a.ajaxState(v)&&"fail"!==
a.ajaxState(v)||(C.load("/gp/product/features/apparel-main-image/360.html",f),a.ajaxState(v,"sent"))}function E(){return k&&a.isDefined(k.spin360ConfigEnabled)&&k.spin360ConfigEnabled}function x(b){return a.isDefinedAndNotEmpty(k.spin360ColorData[b])?!0:a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled}function y(){ea&&(e.time("dppc_duration360",Date.now()-m,k.mediaAsin),q.postTimeMetric("dppc_duration360",Date.now()-m),ea=!1)}function V(a){a=k.colorToAsin[a.color]&&k.colorToAsin[a.color].asin;
a||(a=k.mediaAsin);return a}var J,k,G,U,l,u,N,K,Z,P,ha,na,la=!1,oa=!1,Q=0,aa=0,m=0,O=0,v=!1,ia=!1,g=0,ga,ja=!0,ea=!1,H=!0,W=c.once(function(){n.attachImmersiveViewResizeHandler(D);n.attachImmersiveViewResizeHandler(ba);n.attachImmersiveViewResetHandler(y);n.attachTabDeselectHandler("iv360Tab",y)});return function(f,g,l,v){J=this;k=f;G=g;U=v;f=k.landingAsinColor;g=k.defaultColor;a.isDefined(k.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",n.addStyleCodeToURL(k.staticImages.icon360,
"_FMpng_RI_"));E()&&(k.spin360ColorData||(k.spin360ColorData={}),f===g&&a.isDefinedAndEmpty(k.spin360ColorData[g])&&delete k.spin360ColorData[g]);c.on(B.TWISTER_DATA_EVENT,function(a){V(G.getCurrentItem())===a&&(u=t.getData(a),Y(),a={type:"updatedData",data:G.getCurrentItem()},U.dispatch("updateView",a))});J.render=function(f,g,h,l,v,m){H=!0;!E()||a.isDefinedAndEmpty(k.spin360ColorData[f])&&!t.getData(V(G.getCurrentItem()))?n.hideTabHeading("iv360TabHeading"):(k.spin360ColorData[f]=t.getData(V(G.getCurrentItem())),
a.isDefinedAndNotEmpty(k.spin360ColorData[f])?(b("#ivThumbs360").hide(),n.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(k,G.getCurrentItem().color)&&E()&&x(f)&&(g===k.maxAlts&&(f=l.find(".item.imageThumbnail"),g=l.find(".item.videoThumbnail"),a.isDefined(g)&&1<g.length?g.last().remove():f.last().remove()),f=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(f,"button-360-click"),l.append(f),e.count("dppc_display360",
k.mediaAsin),q.postCountMetric("dppc_display360"))):a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled?(k.spin360ColorData[f]={},n.hideTabHeading("iv360TabHeading"),w(l,g,f)):n.hideTabHeading("iv360TabHeading"))};J.update=function(a){};n.attachTabSelectHandler("iv360Tab",D)}});B.register("nexusLogger360",function(){return{count:function(c,b){q.ue&&q.ue.event({asin:b,metricName:c,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(c,b,a){q.ue&&q.ue.event({asin:a,metricName:c,
metricValue:b},"hit-360","hit360.clientEvent.3")}}});B.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});B.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(c,b){var a={};return{setData:function(q){var e=q.asin;a[e]||(a[e]=q,c.trigger(b.TWISTER_DATA_EVENT,e))},getData:function(b){return a[b]}}});"use strict";B.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(c){function b(){this.render=function(){};this.update=
function(){}}return function(a,q,e,fa){var n=!1,t=new b;B.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==sa&&(n=!0,t=new b(a,q,e,fa))});a&&!0===a.showroomEnabled&&!1===n&&c.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return t}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(c,
b,a,C,e,B,n){function t(){w.delegate(".ivThumb","click",function(){var a=b(this);w.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&(E.type="chromeful-video",E.index=a.attr("id").split("_")[1])})}function ka(){if(P){var a=b("#ivVideosTab").height();w.css("height",a);var c=w.find(".vse-lb-container");x=a-e.getDimension(c,"padding-top")-e.getDimension(c,"padding-bottom");c.css({"max-height":a,overflow:"hidden"});if(u){w.css({"max-width":Math.floor(1.77*x)});
return}var a=w.find(".vse-player-container"),c=w.find(".vse-video-action-strip"),f=w.find(".vse-lb-video-metadata"),k=Math.floor(x-e.getDimension(f,"height")-e.getDimension(c,"height")),l=Math.floor(1.77*k);a.css({"max-height":k,"max-width":l,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":l,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":l,marginLeft:"auto",marginRight:"auto"})}N&&(a=w.find(".vse-vertical-scroll"),c=e.getDimension(a,"margin-top")+e.getDimension(a,"margin-bottom"),
a.css("max-height",x-c))}function ba(){R();y&&y.pause();K=!1;U=!0;G=null;Z=!0;P=!1}function R(){K=!1;y&&y.pause()}function S(e){G=e.clickTimeStamp?e.clickTimeStamp:c.now();a.isDefined(D)&&(D.eventTimestamp=G);K=!0;l&&(n.get(c,"#ivVideoBlock",z,m,O),w=b("#ivVideoBlock"),f.getCurrentItem(),E=f.getCurrentItem(),oa(),X());ka();l=!1;T()}function L(a){l&&(w=b("#ivVideoBlock"),f.getCurrentItem(),E=f.getCurrentItem(),oa());K&&T();ka()}function M(a){y=a.player;C.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
c.now()-la);p.imageBlockRenderingStartTime&&C.postTimeMetric("vse_ib_desktop_time_to_player_interactive",c.now()-p.imageBlockRenderingStartTime);P&&(X(),T())}function T(){if(y&&K&&(w.find(".vse-lb-container").animate({opacity:1},200),y.play(D),C.postCountMetric("dpcc_vse_videoBlock_video_played"),U)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,C.postTimeMetric("dpcc_vse_vitff",a),U=!1)}}function Y(){c.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function ca(a){V=
a.popover.$popover;P=!0;X()}function X(){if(P&&Z&&K&&y){V.addClass(c.$(V).find(".vse-lb-container").data("cssClass"));var a=D;ha&&(a=na,ha=!1);c.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});ka();Z=!1}}function da(a){document.getElementsByClassName("videoBlockIngress")[0].click();na=a;ha=!0}var I,p,f,z,D,w,E,x,y,V,J,k,G,U=!0,l=!0,u=!1,N=!1,K=!1,Z=!0,P=!1,ha=!1,na,la=0,oa=c.once(function(){t();e.attachImmersiveViewResizeHandler(L);e.attachTabDeselectHandler("ivVideosTab",
R);e.attachImmersiveViewResetHandler(ba)}),Q=function(c,e,g){b("#ivVideoBlockSpinner").addClass("aok-hidden");C.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);c=f.getCurrentItem().color;c=a.getVideoHash(c,0,p);y||(y=a.createAiryInstanceForChromeful(b("#ivVideoBlock"),c,p.airyConfig,"ImmersiveView"));u=!0;b("#ivVideoBlock").css({"max-width":1.77*x,margin:"0 auto"});K&&u&&y.play({isAsync:!0})},aa=function(a,c,e){l||n.get(a,"#ivVideoBlock",z,m,O);b("#ivVideoBlockSpinner").addClass("aok-hidden")},
m=function(a,b,c){N=!0;ka()},O=function(a,b,c){C.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(b,m,g,n){I=this;p=b;f=m;I.render=function(b,g,m,n,h,q){b=f.getCurrentItem().color;g=a.getVideoHash(b,0,p);!0===q?J=p.mediaAsin:(J=p.colorToAsin[b]&&p.colorToAsin[b].asin,J=a.isDefined(J)?J:p.mediaAsin);k=null!==p.vseVideoDataSourceTreatment&&"T1"===p.vseVideoDataSourceTreatment?"ASIN":"physicalID";l=!0;-1===g?e.hideTabHeading("ivVideosTabHeading"):
(e.unhideTabHeading("ivVideosTabHeading"),z={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:g.marketPlaceID,locale:g.languageCode,product:{contentID:J,contentIDType:"ASIN"},video:{contentID:g.mediaObjectId,contentIDType:k,videoURL:g.url,imageURL:g.slateUrl},requestId:p.dpRequestId,metadata:{ProductTitle:p.title}},D={videoUrl:z.video.videoURL,contentId:z.video.contentID,duration:0,vendorCode:"",eventTimestamp:a.isDefined(G)?G:c.now(),imageUrl:z.video.imageURL,productAsin:z.product.contentID,
index:0},a.isDefinedAndNotEmpty(y)&&(y.destroy(),y=null),la=c.now(),B.get(c,"#ivVideoBlock",z,aa,Q))};I.update=function(a){};e.attachTabSelectHandler("ivVideosTab",S);c.on("vsePlayer-detailpage-imageblock",M);c.on("a:popover:afterShow:immersiveView",ca);c.on("a:popover:beforeHide:immersiveView",Y);c.on("detailpage-imageblock-leave-pip",da)}})});
/* ******** */
(function(b){var f=window.AmazonUIPageJS||window.P,h=f._namespace||f.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,f,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,e=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(e&&0<e.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=d("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,e,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+g[g.length-1];for(b=1;b<g.length;b++)if(c<=g[b]){a="image_size_bucket:"+g[b-1]+"-"+g[b];break}k.postCountMetric(a);e.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;e.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=f.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var b=f.ue;b&&b.count(a,c)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(a,b,d,e,k,g,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:e,pageUrl:k,pageAsin:g,weblabIds:f}}}});b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var e=a.state("desktop-landing-image-data");e&&(e=a.values(e),b=b.getResourceTimeByName("img",e),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",f.parseInt(a.transferSize)),
d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,e=m?m("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,m){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(c){c&&(l.load.js(c),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(c){c&&l.load.css(c)}
var c=e.airyConfig;c===m?l.when("ImageBlockBTF").execute(function(e){c=e.airyConfig;f(c.jsUrl);k(c.cssUrl)}):(f(c.jsUrl),k(c.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,d){var b;
if(d.repositionHeroImage){b=a[1];var c=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))b*=.7,c*=.7;else{var e=((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,1),0);b*=.7+.3*e;c*=.7+.3*e}b=[b,c]}return b}function c(a,d,b){var c;if(b.repositionHeroImage){var e=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){c=Math.max((e-
Math.min(1500,a))/2,0);var k=Math.max((e-a)/2,0);c-=k;e=Math.max(Math.min(e,1500),1024);c=c+(e-420-23)/2-a/d[1]*b}}return c}function h(a,d,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[d])&&f.isDefined(a[d][b])&&f.isDefined(a[d][b].main))||1>e.map(a[d][b].main,function(a,b){return b}).length?-1:a[d][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,d,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,d.color,d.index);if(-1===b)return;d=e.map(b.main,function(a,b){return b})[0];
b=b.main[d]}d=k(b,a);a=c(d[0],b,a);return{height:d[1],width:d[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function c(a,d){var b=e.copy(a);if(k.isDefined(a)&&a.length>d){try{for(var c=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)c=h;if(h===d-4){b=a.substring(0,-1===c?h:c);break}}}catch(g){b=a.substring(0,d-3)}b+="..."}return b}function h(a,d){var b=a.lastIndexOf(".");
return a="_"===a.charAt(b-1)?a.substring(0,b-1)+d+a.substring(b):a.substring(0,b)+"."+d+a.substring(b)}return{getDimension:function(a,d){var b=parseInt(a.css(d),10);return isNaN(b)?0:b},attachTabSelectHandler:function(a,d){e.on("dp:ivTabs:"+a+":select",d)},attachTabDeselectHandler:function(a,d){e.on("dp:ivTabs:"+a+":deselect",d)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,d){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";d&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&
k.isDefined(g.DetailPage.StateController)){a.empty();var d=g.DetailPage.StateController.getState(),b=d.variation_label_order,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c],h=d.selected_variations[e],e=d.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,d,b){a.html(b.title);a.attr("title",a.text());a.html(c(b.title,d))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,e){g.ueLogError&&g.ueLogError(e,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(c,h){try{var a=c.A,d=c.block,b=c.request,g=c.handleFailure,l=c.handleSuccess,r=a.$;h--;var n=
3-h-1,p=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(c){var h=a.now()-p;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+n);r(d).html(c);l(a,b,c)},error:function(d){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+n);(0===d.http.status||500<=d.http.status&&599>=
d.http.status)&&0<h?k(c,h):(e.postCountMetric("vse_preLoaderHook:error:",1),g(a,b,d))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(c,h,a){try{var d=c.A,b=c.context,g=c.handleFailure,l=c.handleSuccess;h.attr("data-configuration");var r=atob(h.attr("data-configuration")),n=JSON.parse(r),p={pageContext:b,configuration:n},
q=d.now();a--;var m=3-a-1;d.ajax("/vap/ew/subcomponent/"+n.type,{params:p,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",c);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+n.type+":"+m);h.html(a);l(d,p,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+n.type+":"+m);(0===f.http.status||
500<=f.http.status&&599>=f.http.status)&&0<a?k(c,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",1),g(d,p,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(c,e,a,d,b){var f=c.$;f(e+" div[data-configuration]").each(function(){k({A:c,context:a,handleFailure:b,handleSuccess:d},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(c,h,a){try{var d=c.A,b=c.block,g=c.request,l=c.handleFailure,m=c.handleSuccess,n=d.$;a--;var p=3-a-
1,q=d.now();d.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+p);n(b).html(a);m(d,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+p);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(c,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(d,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
