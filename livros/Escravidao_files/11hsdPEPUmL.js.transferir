(function(e){var b=window.AmazonUIPageJS||window.P,h=b._namespace||b.attributeErrors,a=h?h("DetailPageRichProductInformationAssets",""):b;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,b,h){e.register("metrics-helper",function(){function a(a,d){b.ue&&b.ue.count&&ue.count(a,d)}return{logCounter:function(a){if(b.ue&&b.ue.count){var d=(ue.count(a)||0)+1;ue.count(a,d)}},logCounterValue:a,maxCarouselItemIndexMetricsEmit:function(f){var d=f.dom.$viewport[0];f=f.dom.$carousel[0].children;
this.maxCarouselItemIndex===h&&(this.maxCarouselItemIndex=-1);for(var g=d.getBoundingClientRect(),d=g.x,g=d+g.width,c=-1,k=0;k<f.length;k++){var b=f[k].getBoundingClientRect(),e=b.x,b=e+b.width;e>=d&&b<=g&&k>c&&(c=k)}c+1>this.maxCarouselItemIndex&&(this.maxCarouselItemIndex=c+1,a("rich-product-information-carousel-max-item-viewed",this.maxCarouselItemIndex))}}});e.when("A","a-carousel-framework","metrics-helper").register("rich-product-information-carousel-buttons-handler",function(a,b,d){function g(c){var b=
c.getAttr("pageNumber"),g=c.getAttr("totalPages"),e=c.dom.$viewport;c=a.$("#rich_product_information .rpi-section.rpi-section-iconic-no-icons .a-carousel-center");var f=a.$("#rich_product_information .rpi-section.rpi-section-iconic .a-carousel-left"),h=a.$("#rich_product_information .rpi-section.rpi-section-iconic .a-carousel-right");null!=f&&null!=h&&(setTimeout(function(){e.css("height",f.height()+"px")}),1===b?(f.css("visibility","hidden"),c.css("margin-left",0),c.css("margin-right","80px")):(f.css("visibility",
"visible"),c.css("margin-left","40px"),c.css("margin-right","40px")),b===g?(d.logCounter("rich-product-information-carousel-show-last-page"),h.css("visibility","hidden")):h.css("visibility","visible"))}b.onInit("rich-product-information-carousel",function(c){g(c);d.maxCarouselItemIndexMetricsEmit(c)});a.on("a:carousel:rich-product-information-carousel:change:animating",function(c){0===c.newValue&&d.maxCarouselItemIndexMetricsEmit(c.carousel)});a.on("a:carousel:rich-product-information-carousel:change:pageNumber",
function(c){c.oldValue<c.newValue?d.logCounter("rich-product-information-carousel-click-next-page"):d.logCounter("rich-product-information-carousel-click-previous-page");g(c.carousel)});a.on("a:carousel:rich-product-information-carousel:change:pageSize",function(c){g(c.carousel)})});e.when("A","a-carousel-framework").register("rich-product-information-carousel-card-division-position-handler",function(a,b){a.on("a:carousel:rich-product-information-carousel:change:currentGutter",function(a){var b=a.carousel.dom.$viewport.find(".rpi-carousel-attribute-card-division"),
c=-1*Math.floor(a.newValue/2);Array.prototype.slice.call(b).map(function(a){a.setAttribute("style","left: "+c+"px !important;")})})});e.when("A","a-carousel-framework").register("attribute-truncation-handler",function(a,b){b.onInit("rich-product-information-carousel",function(b){a.$(".rpi-section-iconic-no-icons #rpi-attribute-book_details-series,#rpi-attribute-book_details-customer_recommended_age,#rpi-attribute-book_details-publisher,#rpi-attribute-audiobook_details-publisher,#rpi-attribute-book_details-grade_level").each(function(){var b=
a.$(this).find(".rpi-attribute-value \x3e :first-child");b.prop("title",b.text())})})})});